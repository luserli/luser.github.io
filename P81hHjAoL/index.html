<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="keywords" content="">
<meta name="description" content="人生是旷野">
<meta name="theme-color" content="#FFF">
<title>lucky site</title>
<link rel="shortcut icon" href="/favicon.ico?v=1689485248940">
<link rel="stylesheet" href="/media/css/muse.css">
<link rel="stylesheet" href="/media/fonts/font-awesome.css">
<link
  href="//fonts.loli.net/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Rosario:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext"
  rel="stylesheet" type="text/css">

<link href="/media/hljs/styles/default.css"
  rel="stylesheet">

<link rel="stylesheet" href="/styles/main.css">
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<script src="/media/js/jquery.js"></script>
<script src="/media/hljs/highlight.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.ui.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css"
  integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">


<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js"
  integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js"
  integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"
  onload="renderMathInElement(document.body);"></script>






</head>

<body>
  <div class="head-top-line"></div>
  <div class="header-box">
    
<div class="muse">
  <header class="header bg-color ">
    <div class="blog-header box-shadow-wrapper  " id="header">
      <div class="nav-toggle" id="nav_toggle">
        <div class="toggle-box">
          <div class="line line-top"></div>
          <div class="line line-center"></div>
          <div class="line line-bottom"></div>
        </div>
      </div>
      <div class="site-meta">       
        <div class="site-title">
          
            <a href="/" class="brand">
              <span>lucky site</span>
            </a>  
          
        </div>
        
          <p class="subtitle">精于心，简于形</p>
        
      </div>
      <nav class="site-nav" id="site_nav">
        <ul id="nav_ul">
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/" target="_self">
                  <i class="fa fa-globe"></i> Home
                </a>
              
            </li>
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/archives" target="_self">
                  <i class="fa fa-globe"></i> Archives
                </a>
              
            </li>
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/tags" target="_self">
                  <i class="fa fa-globe"></i> Tags
                </a>
              
            </li>
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="https://luserli.github.io/about" target="_self">
                  <i class="fa fa-globe"></i> About
                </a>
              
            </li>
          
          
            
              <li class="nav-item ">
                <a href="/friends/" target="_self">
                  
                    <i class="fa fa-address-book"></i> Friend Chain
                  
                </a>
              </li>
            
          
          
            <li id="fa_search" class="nav-item">
              <a href="javascript:void(0);">
                <i class="fa fa-search"></i> <span class="language" data-lan="search">搜索</span>
              </a>
            </li>
          
        </ul>
      </nav>
    </div>
  </header>
</div>

<script type="text/javascript"> 
 
  let showNav = true;

  let navToggle = document.querySelector('#nav_toggle'),
  siteNav = document.querySelector('#site_nav');
  
  function navClick() {
    let sideBar = document.querySelector('.sidebar');
    let navUl = document.querySelector('#nav_ul');
    navToggle.classList.toggle('nav-toggle-active');
    siteNav.classList.toggle('nav-menu-active');
    if (siteNav.classList.contains('nav-menu-active')) {
      siteNav.style = "height: " + (navUl.children.length * 42) +"px !important";
    } else {
      siteNav.style = "";
    }
  }

  navToggle.addEventListener('click',navClick);  
</script>
  </div>
  <div class="main-continer">
    
    <div
      class="section-layout bg-color muse">
      <div class="section-layout-wrapper">
        <div id="sidebarMeta" class="sidebar">
    
<div class="sidebar-wrapper box-shadow-wrapper ">
  <div class="sidebar-item">
    <img class="site-author-image right-motion" src="/images/avatar.png"/>
    <p class="site-author-name">lucky luser</p>
    
    <div class="site-description right-motion">
      
      
      
        <p>人生是旷野</p>
      
      
    </div>
    
  </div>
  <div class="sidebar-item side-item-stat right-motion">
    <div class="sidebar-item-box">
      <a href="/archives/">
        
        <span class="site-item-stat-count">15</span>
        <span class="site-item-stat-name language" data-lan="article">文章</span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="/tags/">
        <span class="site-item-stat-count">7</span>
        <span class="site-item-stat-name language" data-lan="tag">标签</span>
      </a>
    </div>
  </div>
  
  



</div>
</div>
<script>
  let sidebarMeta = document.querySelector('#sidebarMeta');
  let scheme = 'muse';
  let sidebarWrapper = document.querySelector('.sidebar-wrapper');
  if (sidebarMeta && (scheme === 'pisces' || scheme === 'gemini')) {
    document.addEventListener('scroll', function(e) {
      if (document.scrollingElement.scrollTop > parseInt(sidebarMeta.style.marginTop) + 10) {
        sidebarWrapper.classList.add('home-sidebar-fixed')
      } else {
        sidebarWrapper.classList.remove('home-sidebar-fixed')
      }
    });
  }
  </script>
        <div class="section-box tag-line box-shadow-wrapper">
          <section class="section tags-section posts-expand bg-color">
            <div class="padding-wrapper">
  <div class="tag-timeline-box">
    <div class="tag-timeline-wrapper">
      <div class="tag-timeline-title">
        <h2>
          Electronic
          <small class="language" data-lan="tag">标签</small>
        </h2>
      </div>
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <a href="https://luserli.github.io/BesjWyTAl/">
        <div class="motion-warpper">
          <div class="tag-post-node">
            <h1>
              02-11
              <small>多路信号发生器的Multisim仿真实现</small>
            </h1>
          </div>
        </div>
      </a>
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <a href="https://luserli.github.io/o9mSQG5xY/">
        <div class="motion-warpper">
          <div class="tag-post-node">
            <h1>
              01-18
              <small>三相步进电机控制驱动器仿真</small>
            </h1>
          </div>
        </div>
      </a>
      
      
      
      
      
    </div>
  </div>
</div>
          </section>
        </div>
      </div>
    </div>
    <div class="footer-box">
  <footer class="footer">
    <center id="runTimeBox">
      已运行:<span id="run_time"></span>
    </center>
    <span id="busuanzi_container_site_pv">浏览数:<span id="busuanzi_value_site_pv"></span> 次</span>
    <span class="post-meta-divider">|</span>
    <span id="busuanzi_container_site_uv">访客数:<span id="busuanzi_value_site_uv"></span> 人</span>

    <script>
      BirthDay = new Date('');
      if (BirthDay.getTime()) {
        function runTime() {
          str = "";
          today = new Date();
          timeold = today.getTime() - BirthDay.getTime();
          msPerDay = 24 * 60 * 60 * 1000;
          e_daysold = timeold / msPerDay;
          daysold = Math.floor(e_daysold);
          str += daysold + "天";
          return str;
        }
        setInterval(function () {
          $("#run_time").html(runTime());
        }, 1000);
      } else {
        document.querySelector('.footer').removeChild(document.querySelector('#runTimeBox'));
      }
    </script>
    <div class="poweredby">
      
    </div>
  </footer>
  
    
      <div class="drawer-box left" id="drawer_box">
        <span class="muse-line muse-line-first"></span>
        <span class="muse-line muse-line-middle"></span>
        <span class="muse-line muse-line-last"></span>
      </div>
      
        <div class="muse back-to-top" id="back_to_top">
          <i class="fa fa-arrow-up"></i>
          
        </div>
        
                  
                        
</div>
<script>
  let sideBarOpen = "sidebar-open";
  let body = document.body;
  let back2Top = document.querySelector("#back_to_top"),
    back2TopText = document.querySelector("#back_to_top_text"),
    drawerBox = document.querySelector("#drawer_box"),
    rightSideBar = document.querySelector(".sidebar"),
    viewport = document.querySelector("body");

  function scrollAnimation(currentY, targetY) {
    let needScrollTop = targetY - currentY;
    let _currentY = currentY;
    setTimeout(() => {
      const dist = Math.ceil(needScrollTop / 10);
      _currentY += dist;
      window.scrollTo(_currentY, currentY);
      if (needScrollTop > 10 || needScrollTop < -10) {
        scrollAnimation(_currentY, targetY);
      } else {
        window.scrollTo(_currentY, targetY);
      }
    }, 1);
  }

  back2Top.addEventListener("click", function (e) {
    scrollAnimation(document.scrollingElement.scrollTop, 0);
    e.stopPropagation();
    return false;
  });

  window.addEventListener("scroll", function (e) {
    let percent =
      (document.scrollingElement.scrollTop /
        (document.scrollingElement.scrollHeight -
          document.scrollingElement.clientHeight)) *
      100;
    if (percent > 1 && !back2Top.classList.contains("back-top-active")) {
      back2Top.classList.add("back-top-active");
    }
    if (percent == 0) {
      back2Top.classList.remove("back-top-active");
    }
    if (back2TopText) {
      back2TopText.textContent = Math.floor(percent);
    }
  });

  let hasCacu = false;
  window.addEventListener("resize", function (e) {
    calcuHeight();
  });

  function calcuHeight() {
    // 动态调整站点概览高度
    if (
      (!hasCacu && back2Top.classList.contains("pisces")) ||
      back2Top.classList.contains("gemini")
    ) {
      let sideBar = document.querySelector(".sidebar");
      let navUl = document.querySelector("#site_nav");
      sideBar.style =
        "margin-top:" + (navUl.offsetHeight + navUl.offsetTop + 15) + "px;";
      hasCacu = true;
    }
  }
  calcuHeight();

  let open = false,
    MOTION_TIME = 300,
    RIGHT_MOVE_DIS = "320px";

  if (drawerBox) {
    let rightMotions = document.querySelectorAll(".right-motion");
    let right = drawerBox.classList.contains("right");

    let transitionDir = right
      ? "transition.slideRightIn"
      : "transition.slideLeftIn";

    let openProp, closeProp;
    if (right) {
      openProp = {
        paddingRight: RIGHT_MOVE_DIS,
      };
      closeProp = {
        paddingRight: "0px",
      };
    } else {
      openProp = {
        paddingLeft: RIGHT_MOVE_DIS,
      };
      closeProp = {
        paddingLeft: "0px",
      };
    }

    drawerBox.onclick = function () {
      open = !open;
      jQuery.Velocity(rightSideBar, "stop");
      jQuery.Velocity(viewport, "stop");
      jQuery.Velocity(rightMotions, "stop");
      if (open) {
        jQuery.Velocity(
          rightSideBar,
          {
            width: RIGHT_MOVE_DIS,
          },
          {
            duration: MOTION_TIME,
            begin: function () {
              jQuery.Velocity(rightMotions, transitionDir, {});
            },
          }
        );
        jQuery.Velocity(viewport, openProp, {
          duration: MOTION_TIME,
        });
      } else {
        jQuery.Velocity(
          rightSideBar,
          {
            width: "0px",
          },
          {
            duration: MOTION_TIME,
            begin: function () {
              jQuery.Velocity(rightMotions, {
                opacity: 0,
              });
            },
          }
        );
        jQuery.Velocity(viewport, closeProp, {
          duration: MOTION_TIME,
        });
      }
      for (let i = 0; i < drawerBox.children.length; i++) {
        drawerBox.children[i].classList.toggle("muse-line");
      }
      drawerBox.classList.toggle(sideBarOpen);
    };
  }

  // 链接跳转
  let newWindow = "false";
  if (newWindow === "true") {
    let links = document.querySelectorAll(".post-body a");
    links.forEach((item) => {
      if (!item.classList.contains("btn")) {
        item.setAttribute("target", "_blank");
      }
    });
  }

  let faSearch = document.querySelector("#fa_search");
  faSearch &&
    faSearch.addEventListener("click", function () {
      document.querySelector("#search_mask").style = "";
    });

  // 代码高亮
  hljs.initHighlightingOnLoad();

  // 离开当前页title变化
  var leaveTitle = "";
  var normal_title = document.title;
  if (leaveTitle) {
    document.addEventListener("visibilitychange", function () {
      if (document.visibilityState == "hidden") {
        normal_title = document.title;
        document.title = leaveTitle;
      } else {
        document.title = normal_title;
      }
    });
  }
</script>

<link rel="stylesheet" href="/media/css/jquery.fancybox.css" />
<script src="/media/js/jquery.fancybox.js"></script>

<script>
  let images = document.querySelectorAll(".section img");
  images.forEach((image) => {
    var parent = image.parentElement;
    var next = image.nextElementSibling;
    parent.removeChild(image);
    var aelem = document.createElement("a");
    aelem.href = image.src;
    aelem.dataset["fancybox"] = "images";
    aelem.dataset["rel"] = "fancybox-button";
    aelem.classList.add("fancybox");
    aelem.appendChild(image);
    parent.insertBefore(aelem, next);
  });
</script>
  </div>
</body>

  <div class="search-mask" id="search_mask" style="display: none;">
  <div class="search-box">
    <div class="search-title">
      <i class="fa fa-search"></i>
      <div class="input-box">
        <input id="search" type="text" class="language" data-lan="search" placeholder="搜索">
      </div>
      <i id="close" class="fa fa-times-circle"></i>
    </div>
    <div class="stat-box">
      <span id="stat_count">0</span><span class="language" data-lan="stat">条相关条目，使用了</span><span id="stat_times">0</span><span class="language" data-lan="stat-time">毫秒</span>
      <hr>
    </div>
    <div class="result" id="result">
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://luserli.github.io/Ucbp6ZeD5/"" data-c="
          &lt;p&gt;Created: July 14, 2023 1:05 PM&lt;br&gt;
Created by: Luser&lt;br&gt;
Type: AI、Jetson nano&lt;/p&gt;
&lt;h2 id=&#34;串口使用&#34;&gt;串口使用&lt;/h2&gt;
&lt;p&gt;查看串口设备：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-Shell&#34;&gt;ls /dev/tty*
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-Shell&#34;&gt;/dev/tty    /dev/tty18  /dev/tty28  /dev/tty38  /dev/tty48  /dev/tty58   /dev/ttyp0  /dev/ttypb
/dev/tty0   /dev/tty19  /dev/tty29  /dev/tty39  /dev/tty49  /dev/tty59   /dev/ttyp1  /dev/ttypc
/dev/tty1   /dev/tty2   /dev/tty3   /dev/tty4   /dev/tty5   /dev/tty6    /dev/ttyp2  /dev/ttypd
/dev/tty10  /dev/tty20  /dev/tty30  /dev/tty40  /dev/tty50  /dev/tty60   /dev/ttyp3  /dev/ttype
/dev/tty11  /dev/tty21  /dev/tty31  /dev/tty41  /dev/tty51  /dev/tty61   /dev/ttyp4  /dev/ttypf
/dev/tty12  /dev/tty22  /dev/tty32  /dev/tty42  /dev/tty52  /dev/tty62   /dev/ttyp5  /dev/ttyS0
/dev/tty13  /dev/tty23  /dev/tty33  /dev/tty43  /dev/tty53  /dev/tty63   /dev/ttyp6  /dev/ttyS1
/dev/tty14  /dev/tty24  /dev/tty34  /dev/tty44  /dev/tty54  /dev/tty7    /dev/ttyp7  /dev/ttyS2
/dev/tty15  /dev/tty25  /dev/tty35  /dev/tty45  /dev/tty55  /dev/tty8    /dev/ttyp8  /dev/ttyS3
/dev/tty16  /dev/tty26  /dev/tty36  /dev/tty46  /dev/tty56  /dev/tty9    /dev/ttyp9  /dev/ttyTHS1
/dev/tty17  /dev/tty27  /dev/tty37  /dev/tty47  /dev/tty57  /dev/ttyGS0  /dev/ttypa  /dev/ttyTHS2

&lt;/code&gt;&lt;/pre&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/luserli/figure/photos/202307152116041.png&#34; alt=&#34;https://cdn.jsdelivr.net/gh/luserli/figure/photos/202307152116041.png&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;Jetson nano的GPIO口与树莓派的GPIO口相兼容，可在下图查看Jetsonnano的GPIO引脚定义：&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/luserli/figure/photos/Jetson%20nano%20GPIO%E5%BC%95%E8%84%9A%E5%8F%8A%E5%8A%9F%E8%83%BD%E5%9B%BE.png&#34; alt=&#34;https://cdn.jsdelivr.net/gh/luserli/figure/photos/Jetson%20nano%20GPIO%E5%BC%95%E8%84%9A%E5%8F%8A%E5%8A%9F%E8%83%BD%E5%9B%BE.png&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;所以可以使用串口设备/dev/ttyTHS1进行GPIO的串口数据传输。&lt;/p&gt;
&lt;p&gt;不同于树莓派中使用的串口库serial，Jetson nano 中的串口使用需要下载串口库pyserial:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-Shell&#34;&gt;pip3 install pyserial
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;使用：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-Python&#34;&gt;import serial

ser = serial.Serial(&amp;quot;/dev/ttyTHS1&amp;quot;, 115200, timeout=1)  # 串口设置
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;t265初始化&#34;&gt;T265初始化&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-Python&#34;&gt;# 声明 RealSense 管道，封装实际设备和传感器
pipe = rs.pipeline()

# 构建配置对象并请求姿势数据
cfg = rs.config()
cfg.enable_stream(rs.stream.pose)

# 使用请求的配置开始流式传输
pipe.start(cfg)
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;t265-pose数据获取并串口输出&#34;&gt;T265 pose数据获取并串口输出&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;俯仰角(pitch)、横滚角(roll)和偏航角(yaw)概念：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://zhuanlan.zhihu.com/p/450246573&#34;&gt;简单理解3D系统中pitch/yaw/roll 的基本概念&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;T265可直接获取设备四元数信息，官方例程使用四元数的方式进行姿态角度计算&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;四元数的基本概念：&lt;/strong&gt;&lt;br&gt;
四元数是一种数学工具，用于表示旋转的方向和角度。与欧拉角不同，四元数可以避免万向锁问题，并且计算效率更高。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;一个四元数由实部（也称为标量部分）和虚部（也称为矢量部分）组成。标量部分是一个实数，而矢量部分是一个三维向量。四元数可以表示为：&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;z&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;q = w + xi + yj + zk&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.625em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.66666em;vertical-align:-0.08333em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.74285em;vertical-align:-0.08333em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.85396em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.05724em;&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.69444em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.04398em;&#34;&gt;z&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03148em;&#34;&gt;k&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;其中，w是实部，x、y和z是矢量部分的三个分量，i、j和k是虚部的三个基本单位向量。四元数的长度可以使用欧几里得范数计算：&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;∣&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;∣&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;z&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;|q| = sqrt(w^2 + x^2 + y^2 + z^2)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;∣&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;∣&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.064108em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8141079999999999em;&#34;&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.897438em;vertical-align:-0.08333em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8141079999999999em;&#34;&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.008548em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8141079999999999em;&#34;&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.064108em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.04398em;&#34;&gt;z&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8141079999999999em;&#34;&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;四元数可以用来表示旋转的方向和角度，其中旋转角度θ和旋转轴(x, y, z)可以由四元数的虚部推导出来。具体地说，旋转轴和旋转角度可以使用以下公式计算：&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;θ&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;∗&lt;/mo&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;θ = 2 * acos(w)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.69444em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;θ&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.64444em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;∗&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mi&gt;z&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mi&gt;z&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;/&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;z&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;(x, y, z) = (x, y, z) / sqrt(x^2 + y^2 + z^2)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.04398em;&#34;&gt;z&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.064108em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.04398em;&#34;&gt;z&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8141079999999999em;&#34;&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.008548em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8141079999999999em;&#34;&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.064108em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.04398em;&#34;&gt;z&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8141079999999999em;&#34;&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;其中acos是反余弦函数。通过这些公式，可以从四元数中提取旋转的方向和角度，并将其转换为欧拉角或其他旋转表示形式。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;俯仰角(pitch)、横滚角(roll)和偏航角(yaw)计算公式：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;可以使用四元数来计算旋转的俯仰角、横滚角和偏航角。使用四元数表示旋转时，可以使用以下公式将四元数转换为欧拉角形式：&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;∗&lt;/mo&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;z&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;pitch = asin(2 * (qwqy - qxqz))&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.8888799999999999em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;∗&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;−&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.04398em;&#34;&gt;z&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;∗&lt;/mo&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;z&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;∗&lt;/mo&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;roll = atan2(2 * (qwqx + qyqz), 1 - 2 * (qxqx + qyqy))&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.69444em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.01968em;&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.01968em;&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;∗&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.04398em;&#34;&gt;z&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;−&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.64444em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;∗&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;∗&lt;/mo&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;z&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;∗&lt;/mo&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;z&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;z&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;yaw = atan2(2 * (qwqz + qxqy), 1 - 2 * (qyqy + qzqz))&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.625em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;∗&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.04398em;&#34;&gt;z&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;−&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.64444em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;∗&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.04398em;&#34;&gt;z&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.04398em;&#34;&gt;z&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;其中，qx、qy、qz和qw分别是四元数的虚部和实部，atan2是反正切函数，asin是反正弦函数。这些公式可以将四元数表示的旋转转换为欧拉角形式，其中pitch表示绕y轴旋转的俯仰角，roll表示绕x轴旋转的横滚角，yaw表示绕z轴旋转的偏航角。&lt;/p&gt;
&lt;p&gt;将T265获取到的四元数数据带入计算公式中即可获得俯仰角、横滚角和偏航角&lt;/p&gt;
&lt;p&gt;参考官方例程的代码：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-Python&#34;&gt;data = pose.get_pose_data()

w = data.rotation.w
x = -data.rotation.z
y = data.rotation.x
z = -data.rotation.y

pitch =  -m.asin(2.0 * (x*z - w*y)) * 180.0 / m.pi;
roll  =  m.atan2(2.0 * (w*x + y*z), w*w - x*x - y*y + z*z) * 180.0 / m.pi;
yaw   =  m.atan2(2.0 * (w*z + x*y), w*w + x*x - y*y - z*z) * 180.0 / m.pi;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;添加串口传输与位置信息后的完整代码：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-Python&#34;&gt;import pyrealsense2 as rs
import math as m
import serial
import time

#取整数的补码
def int2hex(data):
    if(data&amp;gt;0):
        return data
    else :
        data=-data
        data=data|0x8000
        return data
    

while (True):
    ser = serial.Serial(&amp;quot;/dev/ttyTHS1&amp;quot;, 115200, timeout=1)  # 串口设置
    # 声明 RealSense 管道，封装实际设备和传感器
    pipe = rs.pipeline()

    # 构建配置对象并请求姿势数据
    cfg = rs.config()
    cfg.enable_stream(rs.stream.pose)

    # 使用请求的配置开始流式传输
    pipe.start(cfg)

    try:
        while (True):
            # 等待相机发出的下一组帧
            frames = pipe.wait_for_frames()

            # 获取姿势框架
            pose = frames.get_pose_frame()
            if pose:
                # jetson nano t265角度传输
                data = pose.get_pose_data()
                # 位姿四元数的欧拉角
                ## 通过T265直接获取四元数
                w = data.rotation.w
                x = -data.rotation.z
                y = data.rotation.x
                z = -data.rotation.y
                ## 使用四元数公式计算三种欧拉角
                pitch =  -m.asin(2.0 * (x*z - w*y)) * 180.0 / m.pi
                roll  =  m.atan2(2.0 * (w*x + y*z), w*w - x*x - y*y + z*z) * 180.0 / m.pi
                yaw   =  m.atan2(2.0 * (w*z + x*y), w*w + x*x - y*y - z*z) * 180.0 / m.pi
                
                # 转换为十六进制数并使用 bytearray 将数据打包成需要传输的格式。
                pi = int2hex(int(pitch))
                ro = int2hex(int(roll))
                ya = int2hex(int(yaw))
                my_data1 = bytearray([0xaa,0x29,0x05,0x35,0x06,pi&amp;gt;&amp;gt;8,pi&amp;amp;0xff,ro&amp;gt;&amp;gt;8,ro&amp;amp;0xff,ya&amp;gt;&amp;gt;8,ya&amp;amp;0xff,0x00])
                ser.write(my_data1) # 串口传输 
                
                hh = int2hex(-10)
                print(&amp;quot;------------hh:&amp;quot;,hh)
                print(&amp;quot;Frame #{}&amp;quot;.format(pose.frame_number))
                print(&amp;quot;RPY [deg]: Roll: {0:.7f}, Pitch: {1:.7f}, Yaw: {2:.7f}&amp;quot;.format(roll, pitch, yaw))
                
                # 使用相机的位置信息，将位置信息转化为十六进制数据，并将数据打包成需要传输的格式。
                #xyz
                my_x = data.translation.x*10000
                my_y = data.translation.y*10000
                my_z = data.translation.z*10000
                
                my_x = int2hex(int(my_x))
                my_y = int2hex(int(my_y))
                my_z = int2hex(int(my_z))
                my_data2 = bytearray([0xaa,0x29,0x05,0x34,0x06,my_x&amp;gt;&amp;gt;8,my_x&amp;amp;0xff,my_y&amp;gt;&amp;gt;8,my_y&amp;amp;0xff,my_z&amp;gt;&amp;gt;8,my_z&amp;amp;0xff,0x00])
                ser.write(my_data2) # 串口传输
                print(&amp;quot;pos:{}&amp;quot;.format(data.translation))
                time.sleep(0.1)  #调试时使用，方便观察
                
    finally:
        pipe.stop()

&lt;/code&gt;&lt;/pre&gt;
">Jetson nano 获取T265数据并使用串口发送</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://luserli.github.io/PZeQFdmOQ/"" data-c="
          &lt;p&gt;Created: July 13, 2023 12:08 AM&lt;br&gt;
Created by: Luser&lt;br&gt;
Type: AI、Jetson nano&lt;/p&gt;
&lt;h2 id=&#34;jetson-nano-换源&#34;&gt;Jetson nano 换源&lt;/h2&gt;
&lt;p&gt;Jetson设备默认的apt镜像源在海外，所以需要用国内的源代替海外源&lt;/p&gt;
&lt;p&gt;Jetson处理器是&lt;strong&gt;aarch64&lt;/strong&gt;类型的，常用的arm64换源教程&lt;strong&gt;不能用！&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;要使用与之匹配的源，国内aarch64的源有的连不上，有的包无法安装，好多网上Jetson Nano的换源教程都用不了，下面的这个清华大学的源完美可用：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1.先备份原本的source.list文件&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-Shell&#34;&gt;sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak  
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;2.修改source&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;进入source.list&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-Shell&#34;&gt;sudo gedit /etc/apt/sources.list
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;按&amp;quot;i&amp;quot;开始输入，然后删除所有内容，复制进下面的&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-Plain&#34;&gt;deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic main multiverse restricted universe
deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-security main multiverse restricted universe
deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-updates main multiverse restricted universe
deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-backports main multiverse restricted universe
deb-src http://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic main multiverse restricted universe
deb-src http://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-security main multiverse restricted universe
deb-src http://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-updates main multiverse restricted universe
deb-src http://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-backports main multiverse restricted universe
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;“Esc”结束输入，“:wq!”保存退出&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3.更新软件列表，保存在本地&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-Shell&#34;&gt;sudo apt-get update
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;如果需要，可以更新软件：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-Shell&#34;&gt;sudo apt-get upgrade
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;安装依赖&#34;&gt;安装依赖&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-Shell&#34;&gt;sudo apt-get install git cmake libssl-dev libusb-1.0-0-dev pkg-config libgtk-3-dev libglfw3-dev libgl1-mesa-dev libglu1-mesa-dev
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;下载realsense-sdk&#34;&gt;下载Realsense SDK&lt;/h2&gt;
&lt;p&gt;因为需要同时支持D455与T265，并且T265已经停产了，realsense v2.54.1 以后不再支持T265，故需下载 2.53.1版同时支持D455与T265：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-Shell&#34;&gt;git clone -b v2.53.1 https://github.com/IntelRealSense/librealsense.git
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;编译准备&#34;&gt;编译准备&lt;/h2&gt;
&lt;p&gt;cmake 后面的命令是想要编译时配置好pyrealsense2环境&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-Shell&#34;&gt;cd librealsense
mkdir build &amp;amp;&amp;amp; cd build
cmake ../ -DBUILD_PYTHON_BINDINGS:bool=true -DPYTHON_EXECUTABLE=/usr/bin/python3 -DBUILD_WITH_CUDA=true
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;运行cmake时不要自行设置参数！！不然很可能会不能运行相机。&lt;/p&gt;
&lt;h2 id=&#34;编译与安装&#34;&gt;编译与安装&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-Shell&#34;&gt;make
sudo make install
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;树莓派使用&lt;code&gt;make -j&lt;/code&gt;进行多线程编译可能有点压力，使用单线程编译就好&lt;/p&gt;
&lt;h2 id=&#34;编译过程中可能遇到的错误&#34;&gt;编译过程中可能遇到的错误&lt;/h2&gt;
&lt;p&gt;1:Could NOT find OpenSSL, try to set the path to OpenSSL root folder in the&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-Shell&#34;&gt;$ sudo apt-get install libssl-dev
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2:The Xinerama headers were not found&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-Shell&#34;&gt;$ sudo apt-get install libsdl2-dev
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3:/home/***/projects/librealsense/build/third-party/pybind11/include/pybind11/detail/common.h:124:10: fatal error: Python.h: No such file or directory,CMakeFiles/Makefile2:268: recipe for target &#39;wrappers/python/CMakeFiles/pybackend2.dir/all&#39; failed&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-Shell&#34;&gt;$ sudo apt-get install python3.6-dev
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;设置udev规则&#34;&gt;设置udev规则&lt;/h2&gt;
&lt;p&gt;运行项目中&lt;code&gt;scripts&lt;/code&gt;目录下的&lt;code&gt;setup_udev_rules.sh&lt;/code&gt;就好：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-Shell&#34;&gt;sudo sh ./scripts/setup_udev_rules.sh
echo &#39;hid_sensor_custom&#39; | sudo tee -a /etc/modules
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;添加环境变量&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-Shell&#34;&gt;export PATH=/usr/local/cuda/bin:$PATH
export LD_LIBRARY_PATH=/usr/local/cuda/lib64:$LD_LIBRARY_PATH
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;验证安装&#34;&gt;&lt;strong&gt;验证安装&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;将T265通过USB连接到树莓派上（要连蓝色接口的USB3.0），然后运行下面这个代码。&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-Shell&#34;&gt;rs-enumerate-devices
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;只要能输出信息，而不是说没有设备插入，那就是成功了。&lt;/p&gt;
&lt;h2 id=&#34;测试&#34;&gt;测试&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-Shell&#34;&gt;sudo realsense-viewer
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;pyrealsense2的问题&#34;&gt;pyrealsense2的问题&lt;/h2&gt;
&lt;p&gt;编译完SDK后，C++的realsense环境可以正常使用和运行，但是python的pyrealsense2却无法被python正确找到，经过测试后发现解决办法：&lt;/p&gt;
&lt;p&gt;在librealsense编译完后会在build目录中生成python的链接库，将其手动添加到python的import搜索路径中就可以被正确链接到了：&lt;/p&gt;
&lt;p&gt;找到编译完后生成的.so文件：&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/luserli/figure/photos/202307152105499.png&#34; alt=&#34;https://cdn.jsdelivr.net/gh/luserli/figure/photos/202307152105499.png&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;获取import的默认搜索路径：&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/luserli/figure/photos/202307152107468.png&#34; alt=&#34;https://cdn.jsdelivr.net/gh/luserli/figure/photos/202307152107468.png&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;将生成的&lt;code&gt;pyrealsense2.cpython-36m-aarch64-linux-gnu.so&lt;/code&gt;文件copy到上面获取到的任一个目录中即可，这里放到&#39;/usr/lib/python3.6&#39;中&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-Shell&#34;&gt;cp pyrealsense2.cpython-36m-aarch64-linux-gnu.so /usr/lib/python3.6
&lt;/code&gt;&lt;/pre&gt;
">Jetson nano 部署 librealsense</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://luserli.github.io/zb6nuFyOQ/"" data-c="
          &lt;p&gt;Created: June 26, 2023 11:30 PM&lt;br&gt;
Created by: Luser&lt;br&gt;
Type: MCU&lt;/p&gt;
&lt;h2 id=&#34;1maxipy固件烧录教程&#34;&gt;1.Maxipy固件烧录教程&lt;/h2&gt;
&lt;h3 id=&#34;1maxipy简介&#34;&gt;(1)Maxipy简介&lt;/h3&gt;
&lt;p&gt;[Maxipy](https://github.com/sipeed/MaixPy &amp;quot;MaxiPy&amp;quot; &amp;quot;Maxipy&amp;quot;)是一个将Micropython语言移植到K210芯片上的工程，该工程发行的固件名字就叫做Maxipy，Maxipy固件中集成了大量的机器视觉算法，并全部兼容openmv的算法库，然后将这个固件烧录到K210上之后就可以在该单片机上运行python，相对于传统的C语言单片机开发，难度极大降低、效率极大提高。 新买的K210开发板都已经刷好了默认固件，可以直接使用。但是建议刷到最新版固件，新版固件bug少。在连接好摄像头和液晶屏后即可上电测试。首先需要下载安装开发环境&lt;a href=&#34;https://cn.dl.sipeed.com/MAIX/MaixPy/ide&#34;&gt;Maxipy IDE&lt;/a&gt;，下载之后双击exe安装包，根据个人喜好进行安装即可，无特殊要求，安装路径全为英文名是一个良好的习惯。然后使用USB连接开发板和电脑USB口，将开发板连接Maxipy IDE,点击IDE左下角连接，点击左上角文件，打开该K210项目仓库中的scripts文件夹中的hello_world.py，点击左下角三角，即可实现在线运行。上述已经实现了板子的运行，并将摄像头拍摄到的画面显示在液晶屏上。但是还是建议参考下节方法来为板子升级最新固件。&lt;/p&gt;
&lt;h3 id=&#34;2固件烧录方法&#34;&gt;(2)固件烧录方法&lt;/h3&gt;
&lt;p&gt;首先&lt;a href=&#34;https://cn.dl.sipeed.com/shareURL/MAIX/MaixPy/release/master&#34;&gt;下载最新MaxiPy固件&lt;/a&gt;，然后&lt;a href=&#34;https://cn.dl.sipeed.com/shareURL/MAIX/tools/kflash_gui&#34;&gt;下载固件烧录工具kflash_gui&lt;/a&gt;。MaxiPy固件常用的有如下三种，可根据自己需要选择，建议在不适用openmv库时烧录最小固件，可以节约内存。下载站中官方的readme文档中有对每个固件的介绍。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;maixpy_v*_no_lvgl.bin： MaixPy固件, 不带LVGL版本.(LVGL是嵌入式GUI框架, 写界面的时候需要用到)&lt;/li&gt;
&lt;li&gt;maixpy_v*_full.bin： 完整版的MaixPy固件(MicroPython + OpenMV API + lvgl )&lt;/li&gt;
&lt;li&gt;maixpy_v0.3.1_minimum.bin： MaixPy固件最小集合，不支持 MaixPy IDE， 不包含OpenMV的相关算法&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;得到MaxiPy固件和烧录工具kflash_gui后，点击进入kflash_gui子文件夹，该文件夹内是固件烧录工具kflash_gui，注意不要删除里边的任何文件，里边的kflash_gui.exe即为可运行的固件烧录程序。&lt;/p&gt;
&lt;p&gt;双击kflash_gui.exe，即可打开gui界面。&lt;/p&gt;
&lt;p&gt;固件烧录程序打开后，将K210开发板通过USB数据线连接电脑，正常情况下，USB插入电脑后，烧录程序会自动识别并自动填写相关配置。 如果没有自动识别和自动配置，可进行手动配置：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;开发板选择对应的开发板，我们使用的是MAXI DOCK&lt;/li&gt;
&lt;li&gt;下载到选择Flash&lt;/li&gt;
&lt;li&gt;串口设置中的端口选项选择K210开发板连接电脑后对应的端口，可以通过设备管理器查看端口号&lt;/li&gt;
&lt;li&gt;波特率为1500000&lt;/li&gt;
&lt;li&gt;速度模式为低速模式&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;配置完成之后，点击打开文件按钮进行浏览到你存放Maxipy固件的文件夹，找到所要下载的固件。&lt;/p&gt;
&lt;p&gt;之后单击下载按钮，即可开始烧录固件，此时只需等待固件烧录完成即可。&lt;/p&gt;
&lt;p&gt;之后点击OK按钮即可，烧录成功后开发板会自动重启，到此已完成固件烧录，可以关闭固件烧录软件。&lt;/p&gt;
&lt;h2 id=&#34;2ide使用教程&#34;&gt;2.IDE使用教程&lt;/h2&gt;
&lt;h3 id=&#34;1ide安装&#34;&gt;(1)IDE安装&lt;/h3&gt;
&lt;p&gt;IDE的下载和安装前述已经说明，和普通软件安装过程无异。安装好之后，桌面会出现名字为MaxiPy IDE的应用程序，双击运行，界面如下所示。左下角有两个按钮，上边的链条形状为连接按钮，用来连接开发板和IDE，下边的三角按钮为运行按钮，用来启动脚本在线运行，在未连接开发板时链接按钮为绿色，运行按钮为灰色。&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/luserli/figure/photos/202306251610562.png&#34; alt=&#34;1&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;2开发板和ide连接&#34;&gt;(2)开发板和IDE连接&lt;/h3&gt;
&lt;p&gt;安装好IDE后，将K210开发板通过USB数据线和电脑连接，然后点击左下角的连接按钮，此时如果电脑连接了多个串口设备时，IDE会提示你选择要连接的串口，此时需要选择K210对应的串口，和固件烧录时的串口号是一致的。连接成功后，连接按钮变成红色，运行按钮变成绿色。此时点击红色连接按钮可断开连接。&lt;/p&gt;
&lt;h3 id=&#34;3在线运行脚本程序&#34;&gt;(3)在线运行脚本程序&lt;/h3&gt;
&lt;p&gt;成功连接开发板和IDE后，即可进行程序的编写和在线运行。可以点击IDE的文件按钮，选择新建脚本文件编写自己的程序，也可以点击打开文件按钮选择已有的脚本程序。这里选择已有的脚本程序，脚本程序存放scripts子文件夹内，通过IDE的文件按钮，浏览到脚本文件夹，全选所有的脚本，点击打开，打开上述脚本文件。&lt;/p&gt;
&lt;p&gt;可以点击左上方的下三角按钮切换脚本，如下图所示。&lt;/p&gt;
&lt;p&gt;[&lt;img src=&#34;https://cdn.jsdelivr.net/gh/luserli/figure/photos/202306251613678.png&#34; alt=&#34;flash_gui floder&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;p&gt;此时可以修改程序，之后点击运行按钮即可在线运行脚本。如果提示out of memory可以重启开发板来释放内存。运行界面如下所示。&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/luserli/figure/photos/202306251615427.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;界面下方为log输出，可以看运行数据；右上方为图像窗口，可以展示摄像头画面。此时运行按钮变为红色，再次点击可停止运行。&lt;/p&gt;
&lt;h3 id=&#34;4脱机运行&#34;&gt;(4)脱机运行&lt;/h3&gt;
&lt;p&gt;上述程序运行是在线运行，只能连接IDE才可以运行。如果要实现脱机运行，需要将脚本程序烧写到K210开发板。烧写方法为：首先停止在线运行，然后点击IDE工具栏，点击工具选项，点击将打开的脚本保存到开发板的boot.py，然后点击是，等待完成即可。之后即可不依赖IDE，实现上电脱机运行。&lt;/p&gt;
&lt;h2 id=&#34;3神经网络模型使用方法&#34;&gt;3.神经网络模型使用方法&lt;/h2&gt;
&lt;p&gt;神经网络应用除了烧录上述对应的脚本程序之外，还要将训练好的神经网络模型放到K210开发板SD的根目录，训练过程后续会有讲解。例如在人体检测时使用了深度学习方法，其对应的网络模型存放在该仓库的model子文件夹内，名称为class.kmodel。将其拷贝到SD卡根目录即可。其他模型操作方法一样。.kmodel文件是K210支持的网络模型文件。&lt;/p&gt;
&lt;h2 id=&#34;4初次运行-hello-world&#34;&gt;4.初次运行 Hello World&lt;/h2&gt;
&lt;p&gt;按照国际惯例，我们都会运行一下hello world程序来作为我们进行开发的开始，通过这个程序可以验证一下K210开发板的基本功能和外设是否正常，例如液晶屏和摄像头。该程序将摄像头采集到的图像显示在LCD液晶屏上，并在IDE串口打印帧率，源码如下：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# Hello World Example
#
# Welcome to the MaixPy IDE!
# 1. Conenct board to computer
# 2. Select board at the top of MaixPy IDE: `tools-&amp;gt;Select Board`
# 3. Click the connect buttion below to connect board
# 4. Click on the green run arrow button below to run the script!

import sensor, image, time, lcd

lcd.init(freq=15000000)
sensor.reset()                      # Reset and initialize the sensor. It will
                                    # run automatically, call sensor.run(0) to stop
sensor.set_pixformat(sensor.RGB565) # Set pixel format to RGB565 (or GRAYSCALE)
sensor.set_framesize(sensor.QVGA)   # Set frame size to QVGA (320x240)
sensor.skip_frames(time = 2000)     # Wait for settings take effect.
clock = time.clock()                # Create a clock object to track the FPS.

while(True):
    clock.tick()                    # Update the FPS clock.
    img = sensor.snapshot()         # Take a picture and return the image.
    lcd.display(img)                # Display on LCD
    print(clock.fps())              # Note: MaixPy&#39;s Cam runs about half as fast when connected
                                    # to the IDE. The FPS should increase once disconnected.

&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;5机器视觉应用&#34;&gt;5.机器视觉应用&lt;/h2&gt;
&lt;p&gt;硬件平台：K210开发板，软件平台：openmv机器视觉库。机器视觉类应用不能使用最小固件，因为最小固件里没有集成openmv机器视觉库。&lt;/p&gt;
&lt;h3 id=&#34;1最大色块识别&#34;&gt;(1)最大色块识别&lt;/h3&gt;
&lt;p&gt;该应用对应scripts文件夹下的find_blob.py，其的目的是认为事先设定一个LAB色系颜色阈值，就可以选中一种颜色，程序会识别出图像中该颜色的最大连通区域，并给出区域中心坐标。该应用主要接住了openmv机器视觉库的find_blob库函数，然后采用任意一种排序算法对检测到的所有与预设颜色一致的色块面积大小进行排序，最终将面积最大的色块框起来就是代求的最大色块。&lt;/p&gt;
&lt;h4 id=&#34;找最大色块的函数&#34;&gt;找最大色块的函数：&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;def find_max(blobs):
    max_size=0
    for blob in blobs:
        if blob[2]*blob[3] &amp;gt; max_size:
            max_blob=blob
            max_size = blob[2]*blob[3]
    return max_blob

#寻找两个最大的色块，ID存在max_ID中，便于调用
def find_2_max(blobs):
    max_size=[0,0]
    max_ID=[-1,-1]
    for i in range(len(blobs)):
        if blobs[i].pixels()&amp;gt;max_size[0]:
            max_ID[1]=max_ID[0]
            max_size[1]=max_size[0]
            max_ID[0]=i
            max_size[0]=blobs[i].pixels()
        elif blobs[i].pixels()&amp;gt;max_size[1]:
            max_ID[1]=i
            max_size[1]=blobs[i].pixels()
    return max_ID
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;源码如下：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# 找最大色块
&#39;&#39;&#39;
色块对象是由 image.find_blobs 返回的。
image.find_blobs(thresholds, invert=False, roi, x_stride=2, y_stride=1, area_threshold=10, pixels_threshold=10, merge=False,margin=0, threshold_cb=None, merge_cb=None)
查找图像中指定的色块。返回 image.blog 对象列表；
【thresholds】 必须是元组列表。 [(lo, hi), (lo, hi), ..., (lo, hi)] 定义你想追踪的颜色范围。 对于灰度图像，每个元组需要包含两个值 - 最小灰度值和最大灰度值。 仅考虑落在这些阈值之间的像素区域。 对于 RGB565 图像，每个元组需要有六个值(l_lo，l_hi，a_lo，a_hi，b_lo，b_hi) - 分别是 LAB L，A 和 B通道的最小值和最大值。
【area_threshold】若色块的边界框区域小于此参数值，则会被过滤掉；
【pixels_threshold】若色块的像素数量小于此参数值，则会被过滤掉；
【merge】若为 True,则合并所有没有被过滤的色块；
【margin】调整合并色块的边缘。
对于 RGB565 图像，每个元组需要有六个值(l_lo，l_hi，a_lo，a_hi，b_lo，b_hi)
分别是 LAB中 L，A 和 B 通道的最小值和最大值。
L的取值范围为0-100，a/b 的取值范围为-128到127。
&#39;&#39;&#39;
import sensor
import image
import lcd
import time
lcd.init()
sensor.reset(freq=24000000, set_regs=True, dual_buff=True)
sensor.set_pixformat(sensor.RGB565)
sensor.set_framesize(sensor.QVGA)
sensor.set_vflip(1)    #设置摄像头后置
sensor.run(1)

#红色阈值[0],绿色阈值[1],蓝色阈值[2]
rgb_thresholds =[
                (30, 100, 15, 127, 15, 127),
                (0, 80, -70, -10, -0, 30),
                (0, 30, 0, 64, -128, -20)]

def find_max(blobs):
    max_size=0
    for blob in blobs:
        if blob[2]*blob[3] &amp;gt; max_size:
            max_blob=blob
            max_size = blob[2]*blob[3]
    return max_blob

while True:
    img=sensor.snapshot()
    blobs = img.find_blobs([rgb_thresholds[0]])
    if blobs:
        b = find_max(blobs)
        img.draw_rectangle(b[0:4]) # 画框
        img.draw_cross(b[4], b[5]) # 画中心十字
    lcd.rotation(2)
    lcd.display(img)

&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;6串口传输&#34;&gt;6.串口传输&lt;/h2&gt;
&lt;h3 id=&#34;1k210与电脑串口助手进行信息交互&#34;&gt;(1)K210与电脑串口助手进行信息交互&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;from machine import UART
from fpioa_manager import fm

## 端口映射 IO7→RX1，IO8→TX1
fm.register(7, fm.fpioa.UART1_RX, force=True)
fm.register(8, fm.fpioa.UART1_TX, force=True)
#初始化串口
uart = UART(UART.UART1, 115200, read_buf_len=4096, timeout_char=1000)
uart.write(&#39;Experiment start!\r\n&#39;)

while True:

    text=uart.read() #读取数据

    if text: #如果读取到了数据
        print(text.decode(&#39;utf-8&#39;)) #REPL打印
        uart.write(&#39;I got\r\n&#39;+text.decode(&#39;utf-8&#39;)) #数据回传
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;2k210使用固定数据格式发送数据给单片机或上位机&#34;&gt;(2)K210使用固定数据格式发送数据给单片机（或上位机）&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;```
通信数据传输测试
K210按照 &amp;lt;0xb3,0xb3,rect,0x0d,0x0a&amp;gt; 的数据格式向单片机或上位机发送数据
rect是找到的最大色块的x,y,w,h数据,也就是总共应该发送8个16进制数
```
import sensor, image, lcd, time
from machine import UART
from fpioa_manager import fm

# 端口映射 IO6→RX1，IO7→TX1 
fm.register(7, fm.fpioa.UART1_RX, force=True)
fm.register(8, fm.fpioa.UART1_TX, force=True)
# 初始化串口
uart = UART(UART.UART1, 115200, read_buf_len=4096, timeout_char=1000)
uart.write(&#39;Experiment start!\r\n&#39;)
# 设置针头针尾
u_start=bytearray([0xb3,0xb3])
u_over=bytearray([0x0d,0x0a])
# 初始化摄像头
sensor.reset(freq=24000000, set_regs=True, dual_buff=True)
sensor.set_pixformat(sensor.RGB565)
sensor.set_framesize(sensor.QVGA)
sensor.skip_frames(30)
sensor.set_vflip(True)    #设置摄像头后置
clock = time.clock()
sensor.run(True)

# 找最大的色块
def find_max(blobs):
    max_size=0
    for blob in blobs:
        if blob[2]*blob[3] &amp;gt; max_size:
            max_blob=blob
            max_size = blob[2]*blob[3]
    return max_blob

#红色阈值[0],绿色阈值[1],蓝色阈值[2]
rgb_thresholds =[
                (30, 100, 15, 127, 15, 127),
                (0, 80, -70, -10, -0, 30),
                (0, 30, 0, 64, -128, -20)]

row_data=[0,0,0,0]

while True:
    times=0
    clock.tick()
    img = sensor.snapshot().lens_corr(strength = 1.8, zoom = 1.0)#不断拍照，进行鱼眼校正

    blobs = img.find_blobs([rgb_thresholds[0]])
    if blobs:
        b = find_max(blobs)
        row_data[0:4]=b[0:4]
        img.draw_rectangle(b[0:4]) # 画框
        img.draw_cross(b[4], b[5]) # 画中心十字
    print(row_data)
    #传输数据给单片机
    uart_buf = bytearray(row_data)
    uart.write(u_start)
    uart.write(uart_buf)
    uart.write(u_over)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;使用串口助手接收到的数据如下（串口助手中使用16进制显示的方式查看）：&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/luserli/figure/photos/202306261529944.png&#34; alt=&#34;uart&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;7小车循迹实现&#34;&gt;7.小车循迹实现&lt;/h2&gt;
&lt;p&gt;参考文章：&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.csdn.net/weixin_48267104/article/details/112986168&#34;&gt;循迹识别小车：（四）OpenMV4部分_openmv循迹_南沐ヾ的博客-CSDN博客&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;K210中有许多openmv的API可以直接使用，不过细节处还是有些许不同：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import sensor, lcd, image, time, math
from machine import UART
from fpioa_manager import fm

# 端口映射 IO7→RX1，IO8→TX1
fm.register(7, fm.fpioa.UART1_RX, force=True)
fm.register(8, fm.fpioa.UART1_TX, force=True)
# 初始化串口
uart = UART(UART.UART1, 115200, timeout_char=1000)
# 设置针头针尾
u_start=bytearray([0xb3,0xb3])
u_over=bytearray([0x0d,0x0a])
# 初始化摄像头
sensor.reset(freq=24000000, set_regs=True, dual_buff=True)
sensor.set_contrast(1)
sensor.set_pixformat(sensor.RGB565)
# QVGA:320x240 resolution for the camera sensor.
# QQVGA:160x120 resolution for the camera sensor.
sensor.set_framesize(sensor.QQVGA)
sensor.skip_frames(30)# 让新的设置生效。
clock = time.clock()# 跟踪FPS帧率
sensor.set_vflip(True)
sensor.set_hmirror(True)
sensor.run(True)
# 设置巡线的阈值
GRAYSCALE_THRESHOLD = [(0, 44, -128, 127, -128, 127)]

# 每个roi为(x, y, w, h)，线检测算法将尝试找到每个roi中最大的blob的质心。
# 然后用不同的权重对质心的x位置求平均值，其中最大的权重分配给靠近图像底部的roi，
# 较小的权重分配给下一个roi，以此类推。
ROIS = [
        (0, 90, 160, 20, 0.7),
        (0, 50, 160, 20, 0.35),
        (0, 0, 160, 20, 0.08)
       ]#三个区域
# roi代表三个取样区域，（x,y,w,h,weight）,代表左上顶点（x,y）宽高分别为w和h的矩形，
# weight为当前矩形的权值。注意本例程采用的QQVGA图像大小为160x120，roi即把图像横分成三个矩形。
# 三个矩形的阈值要根据实际情况进行调整，离机器人视野最近的矩形权值要最大，
# 如上图的最下方的矩形，即(0, 100, 160, 20, 0.7)

# 计算权值和。遍历上面的三个矩形，r[4]即每个矩形的权值。
weight_sum = 0
for r in ROIS: weight_sum += r[4]# r[4] is the roi weight.

def find_max(blobs):
    max_size=0
    for blob in blobs:
        if blob[2]*blob[3] &amp;gt; max_size:
            max_blob=blob
            max_size = blob[2]*blob[3]
    return max_blob

# 弧度转角度
def degrees(radians):
    return (180 * radians) / math.pi

def car_run():
    centroid_sum = 0
    for r in range(3):  # 三个区域分别寻找色块
        # r[0:4] is roi tuple.
        #找到视野中的线,merge=true,将找到的图像区域合并成一个
        blobs = img.find_blobs(GRAYSCALE_THRESHOLD, roi=ROIS[r][0:4], merge=True,area_threshold=100,margin=3)
        if blobs:
            b = find_max(blobs)
            img.draw_rectangle(b.rect())
            img.draw_cross(b.cx(),b.cy())
            centroid_sum += b.cx() * ROIS[r][4] # 乘权值
    center_pos = 0
    center_pos = (centroid_sum / weight_sum)# 中间公式
    deflection_angle = 0
    deflection_angle = -math.atan((center_pos-80)/60)# 计算角度
    deflection_angle = math.degrees(deflection_angle)# 弧度制换成角度制

    return [int(deflection_angle)+90] # 要发送的数据哪怕只有一位也需要进行打包，否则发送的数据会是0

# 入口参数：发送数据长度，发送的数据；Transmit_Data(4,[0x00, 0x00, 0x00, 0x00])
def Transmit_Data(TX_Length, TX_Buffer):
    global uart
    TX_Data = bytearray([0x59, TX_Length])         #bytearray是二进制数据组成的序列，每个元素8bit二进制组成
    for i in range(TX_Length):
        TX_Data.append(TX_Buffer[i])
    uart.write(TX_Data)

while(True):
    times=0
    clock.tick()
    img = sensor.snapshot().lens_corr(strength = 1.8, zoom = 1.0)# 不断拍照，进行鱼眼校正
    row_data=car_run()
    print(row_data)
    # 传输数据给单片机
    uart_buf = bytearray(row_data)
    uart.write(u_start)
    uart.write(uart_buf)
    uart.write(u_over)
&lt;/code&gt;&lt;/pre&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/luserli/figure/photos/202306261911201.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;5&#34;&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/luserli/figure/photos/202306261936004.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
">K210入门笔记</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://luserli.github.io/vQAsha_dL/"" data-c="
          &lt;p&gt;Created: June 6, 2023 11:30 PM&lt;br&gt;
Created by: Luser&lt;br&gt;
Type: VM&lt;/p&gt;
&lt;p&gt;在系统功能中开启Hyper-V功能后，按下Windows键搜索打开Hyper-V Manager&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/luserli/figure/photos/202306082305644.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;在右侧选择栏中选择新建虚拟机：&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/luserli/figure/photos/202306082307436.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;按照提示设置虚拟机名称、存储位置、配置网络等选项，选中提前下载好的系统镜像文件，可以是Windows10、Windows11，Ubuntu系列，配置Win11环境时需要注意Win11对系统硬件的要求&lt;/p&gt;
&lt;p&gt;选择镜像文件进行系统安装：&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/luserli/figure/photos/202306082311618.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;配置好后就可以到Hyper-V Manager的主页看到刚创建好的虚拟机，选中，进行连接，接下来就是系统安装环节了，系统安装好后就可以使用了。&lt;/p&gt;
&lt;h2 id=&#34;注意事项&#34;&gt;&lt;strong&gt;注意事项&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;使用过程中需要注意的是，不能在没用保存CheckPoint的情况下直接关闭（TurnOff）VM，不然会导致虚拟机下次打不开，每次使用完VM后不要直接TurnOff，而是选中save按钮，保存当前VM状态并关机：&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/luserli/figure/photos/202306082316146.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;在创建好的windows-vm中通过创建共享文件夹的方式实现主机与vm之间的通信&#34;&gt;在创建好的Windows VM中通过创建共享文件夹的方式实现主机与VM之间的通信&lt;/h2&gt;
&lt;p&gt;先对虚拟机进行设置，&lt;/p&gt;
&lt;p&gt;选中VM，点击 Hyper-V settings进行设置:&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;5&#34;&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/luserli/figure/photos/202306082340979.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;6&#34;&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/luserli/figure/photos/202306082339313.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;7&#34;&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/luserli/figure/photos/202306082342912.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;接下来进入VM，&lt;/p&gt;
&lt;p&gt;在VM中 新建文件夹 -&amp;gt; 右键点击新建文件夹，打开属性 -&amp;gt; 在Sharing(共享)中选择Advanced Sharing(高级共享设置)&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;8&#34;&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/luserli/figure/photos/202306082326061.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;勾选分享：&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;9&#34;&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/luserli/figure/photos/202306082328782.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;点击Permissions(权限)，勾选设置，选择OK&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;10&#34;&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/luserli/figure/photos/202306082329402.png&#34; alt=&#34;https://cdn.jsdelivr.net/gh/luserli/figure/photos/202306082329402.png&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;回到属性界面，记下文件夹的网络路径：&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;11&#34;&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/luserli/figure/photos/202306082331414.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;回到主机中，打开文件浏览器，在文件浏览器中点击“Map Network drive”（映射网络驱动器）&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;12&#34;&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/luserli/figure/photos/202306082334107.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;将刚刚记下的网络路径输入：&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;13&#34;&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/luserli/figure/photos/202306082336533.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;点击Finish进行连接，输入VM中的用户名和密码进行连接。&lt;/p&gt;
&lt;p&gt;连接成功后主机就可以访问到共享文件夹：&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;14&#34;&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/luserli/figure/photos/202306082337010.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;可以通过文件浏览器直接对VM中的文件进行访问，也可以通过代码编辑器直接在共享文件夹中新建、编辑、编译工程（就相当于直接当成一个普通的硬盘来用）。一些软件也可以放入VM中进行隔离测试。&lt;/p&gt;
">Windows使用Hyper-V创建 VM（虚拟机）进行实验</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://luserli.github.io/QsuN7tCu3/"" data-c="
          &lt;p&gt;Created: June 2, 2023 10:20 PM&lt;br&gt;
Created by: Luser&lt;br&gt;
Type: MCU&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;实验环境：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Proteus 8.15 Professional&lt;/li&gt;
&lt;li&gt;Keil MDK V5.38.0.0&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;工程：&lt;/strong&gt; &lt;a href=&#34;https://www.aliyundrive.com/s/wszmhQKCZpX&#34;&gt;点击下载&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;实验电路图：&lt;/strong&gt;&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/06/03/s4yeD1nurxkpAdM.png&#34; alt=&#34;01&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;1-工程配置&#34;&gt;1. 工程配置&lt;/h2&gt;
&lt;p&gt;时钟配置：&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/06/03/sJSHawucMoT83dm.png&#34; alt=&#34;07&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;11-oled&#34;&gt;1.1 OLED&lt;/h3&gt;
&lt;p&gt;在Cube MX中将PA4、PA5设置为GPIO_OUTPUT模式，修改User_Label为OLED_SCL和OLED_SDA:&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/06/03/BienlZcOK4QxdwG.png&#34; alt=&#34;02&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;12-hcsr04超声波&#34;&gt;1.2 HCSR04(超声波)&lt;/h3&gt;
&lt;p&gt;引脚设置和OLED的一样，先设置模式再修改User Label：&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/06/03/TaQl83Cj5FXZURE.png&#34; alt=&#34;04&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;13-gp2d12红外线&#34;&gt;1.3 GP2D12(红外线)&lt;/h3&gt;
&lt;p&gt;红外线传感器采用ADC采样读取电压值再转换为距离值的方式，开启ADC1_CH1：&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;5&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/06/03/R4HNaQWKXJnehOC.png&#34; alt=&#34;05&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;14-l298驱动电机正反转&#34;&gt;1.4 L298驱动电机正反转&lt;/h3&gt;
&lt;p&gt;设置两路PWM波对电机进行正反转控制：&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;6&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/06/03/zmJg5FAqHG4o6SE.png&#34; alt=&#34;06&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;设置PA8对蜂鸣器进行控制，PA11和PA12对LED进行控制。&lt;/p&gt;
&lt;h3 id=&#34;15-按键&#34;&gt;1.5 按键&lt;/h3&gt;
&lt;p&gt;设置按键中断：&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;7&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/06/03/LGwrZSXkIfAt3aF.png&#34; alt=&#34;08&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;16-串口&#34;&gt;1.6 串口&lt;/h3&gt;
&lt;p&gt;使用串口一：&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;8&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/06/03/jrHWlMI5Dpk87QB.png&#34; alt=&#34;09&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;17-定时器&#34;&gt;1.7 定时器&lt;/h3&gt;
&lt;p&gt;TIM2用于输入捕获，TIM3用于定时控制：&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;9&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/06/03/mjbte5Y6J3EdQoP.png&#34; alt=&#34;10&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;10&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/06/03/l71G9eIXwjibAq8.png&#34; alt=&#34;11&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;生成工程，将&lt;code&gt;.c&lt;/code&gt;和&lt;code&gt;.h&lt;/code&gt;文件移进工程文件夹中后在Keil中将一系列的&lt;code&gt;.c&lt;/code&gt;文件添加进工程中：&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;11&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/06/03/QUjAoSpx1NIZtEP.png&#34; alt=&#34;03&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;2-代码编写&#34;&gt;2. 代码编写&lt;/h2&gt;
&lt;h3 id=&#34;21-导入头文件&#34;&gt;2.1 导入头文件&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;/* USER CODE BEGIN Includes */
#include &amp;quot;sys.h&amp;quot;
#include &amp;quot;delay.h&amp;quot;
#include &amp;quot;iic.h&amp;quot;
#include &amp;quot;oled.h&amp;quot;
#include &amp;quot;bmp.h&amp;quot;
#include &amp;quot;gp2d12.h&amp;quot;
#include &amp;quot;hc_sr04.h&amp;quot;
#include &amp;quot;ds18b20.h&amp;quot;

// 输入捕获模式选择
#define IC_MODE HAL_GPIO_ReadPin(IC_MODE_GPIO_Port, IC_MODE_Pin)

/* USER CODE END Includes */
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;22-开机初始化&#34;&gt;2.2 开机初始化&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;  /* USER CODE BEGIN 2 */
  delay_init(72);
  OLED_Init();
  BMP_Init();
  HC_SR04_Init(1);
  //开启定时器三计时
  HAL_TIM_Base_Start_IT(&amp;amp;htim3);
  //开启PWM波
  HAL_TIM_PWM_Start(&amp;amp;htim1, TIM_CHANNEL_2);
  HAL_TIM_PWM_Start(&amp;amp;htim1, TIM_CHANNEL_3);
  __HAL_TIM_SET_COMPARE(&amp;amp;htim1, TIM_CHANNEL_2, PWM1);
  __HAL_TIM_SET_COMPARE(&amp;amp;htim1, TIM_CHANNEL_3, PWM2);
  //输入捕获
	long long temp = 0;
  if(!IC_MODE){
    HAL_TIM_IC_Start_IT(&amp;amp;htim2,TIM_CHANNEL_1);  //开启TIM3通道1的捕获中断
    __HAL_TIM_ENABLE_IT(&amp;amp;htim2,TIM_IT_UPDATE);  //开启TIM3的更新中断
    OLED_ShowString(72, 4, &amp;quot;no&amp;quot;, 16);
  }

  // DS18B20部分一直无法检测到
  // float ttemp = 0;
  // while (DS18B20_Init())
  // {
  //   Printf(&amp;quot;DS18B20 checked failed!!!\r\n&amp;quot;);
  //   HAL_Delay(100 - 1);
  // }
  // Printf(&amp;quot;DS18B20 checked success!!!\r\n&amp;quot;);
	
  // 开机蜂鸣器响三下，LED1闪三下
  // BUZ_3();

  Printf(&amp;quot;Experiment Start!\r\n&amp;quot;);
  Printf(&amp;quot;Lucky Lu\r\n&amp;quot;);
  Printf(&amp;quot;2023\\06\\02\r\n&amp;quot;);
  OLED_ShowString(0, 0, &amp;quot;BMP_Temp:&amp;quot;, 16);
  OLED_ShowString(0, 2, &amp;quot;BMP_hPa:&amp;quot;, 16);
  OLED_ShowString(0, 4, &amp;quot;Distance:&amp;quot;, 16);
  OLED_ShowString(0, 6, &amp;quot;GP_Distance:&amp;quot;, 16);
  /* USER CODE END 2 */
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;23-while循环&#34;&gt;2.3 while循环&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;  /* USER CODE BEGIN WHILE */
  while (1)
  {
    // ttemp = DS18B20_Get_Temp();
    // if(ttemp)
    //   Printf(&amp;quot;%d\r\n&amp;quot;,ttemp);
		
	// 读取BMP
    BMP_ReadCalibrationData();
    BMP_UncompemstatedToTrue();
	// 读取红外线测距值
    float gp_distance = get_distance();
	// 显示
    OLED_ShowNumber(72, 0, bmp180.Temp / 10, 2, 16);
    OLED_ShowChar(88, 0, &#39;.&#39;, 16);
    OLED_ShowNumber(96, 0, bmp180.Temp, 1, 16);
    OLED_ShowNumber(64, 2, bmp180.p / 100, 4, 16);
    OLED_ShowChar(96, 2, &#39;.&#39;, 16);
    OLED_ShowNumber(104, 2, bmp180.p, 2, 16);
    OLED_ShowNumber(96, 6, gp_distance, 2, 16);
	// 串口输入中断
    HAL_UART_Receive_IT(&amp;amp;huart1, UART1RxBuffer, 1);
	//红外线测距小于等于20则蜂鸣器响且LED1亮
    if (gp_distance &amp;lt;= 20){
      BUZ_SET;LED1_SET;
    }else{
      BUZ_RESET;LED1_RESET;
    }
	// 读取PB4的值判断TIM2的输入捕获使用方式
	// 0：捕获LED2高电平时间
	// 1：进行超声波测距
    if(IC_MODE){
      float distance = Get_Distance();
      OLED_ShowNumber(72, 4, distance, 2, 16);
    }else if(TIM2CH1_CAP_STA &amp;amp; 0X80){   //完成1次高电平捕获
      temp = TIM2CH1_CAP_STA &amp;amp; 0X3F;
      temp *= 0xffff;        //溢出总时间
      temp += TIM2CH1_CAP_VAL;  //总的高电平时间
      Printf(&amp;quot;High level duration: %ld ms\r\n&amp;quot;,(int)(temp &amp;amp; 0xFFFFFFFF)/1000);
      TIM2CH1_CAP_STA = 0;    //准备下一次捕获
    }
    /* USER CODE END WHILE */

    /* USER CODE BEGIN 3 */
  }
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;24-串口中断-按键中断-输入捕获&#34;&gt;2.4 串口中断、按键中断、输入捕获&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;/* USER CODE BEGIN 0 */
// 串口
uint8_t UART1RxBuffer[1];
void HAL_UART_RxCpltCallback(UART_HandleTypeDef *huart)
{
  if (huart-&amp;gt;Instance == USART1)
  {
    HAL_UART_Transmit(huart, UART1RxBuffer, 1, 100);
  }
  HAL_UART_Receive_IT(huart, UART1RxBuffer, 1);
}
// 按键中断
int PWM1=500,PWM2=0;
void HAL_GPIO_EXTI_Callback(uint16_t GPIO_Pin){
  switch(GPIO_Pin){
    case GPIO_PIN_0:PWM1=500;PWM2=0;break;//正转模式
    case GPIO_PIN_1:PWM1=0;PWM2=500;break;//反转模式
    case GPIO_PIN_2://加速
      PWM2==0?PWM1+=100:(PWM2+=100);
      if(PWM1&amp;gt;=1000)PWM1=1000;
      if(PWM2&amp;gt;=1000)PWM2=1000;
      break;
    case GPIO_PIN_3://减速
      PWM2==0?PWM1-=100:(PWM2-=100);
      if(PWM1&amp;lt;=0)PWM1=0;
      if(PWM2&amp;lt;=0)PWM2=0;
      break;
    case IC_MODE_Pin:
      HAL_TIM_IC_Start_IT(&amp;amp;htim2,TIM_CHANNEL_1);  //开启TIM2通道1的捕获中断
      __HAL_TIM_ENABLE_IT(&amp;amp;htim2,TIM_IT_UPDATE);  //开启TIM2的更新中断
      OLED_ShowString(72, 4, &amp;quot;no&amp;quot;, 16);
      break;
  }
  __HAL_TIM_SET_COMPARE(&amp;amp;htim1, TIM_CHANNEL_2, PWM1);
  __HAL_TIM_SET_COMPARE(&amp;amp;htim1, TIM_CHANNEL_3, PWM2);
}

// 输入捕获
/* TIM2CH1_CAP_STA 各数据位说明
** bit7   捕获完成标志
** bit6   捕获到高电平标志
** bit5~0 捕获高电平后定时器溢出的次数*/
uint8_t TIM2CH1_CAP_STA = 0;
uint16_t TIM2CH1_CAP_VAL;
void HAL_TIM_PeriodElapsedCallback(TIM_HandleTypeDef *htim)
{
  if (htim == &amp;amp;htim2)
  {
    if((TIM2CH1_CAP_STA &amp;amp; 0X80) == 0){  //还未成功捕获
      if(TIM2CH1_CAP_STA &amp;amp; 0X40){   //已经捕获到高电平
        if((TIM2CH1_CAP_STA &amp;amp; 0X3F) == 0X3F){ //高电平时间太长了
          TIM2CH1_CAP_STA |= 0X80;      //标记为完成一次捕获
          TIM2CH1_CAP_VAL = 0XFFFF;     //计数器值
        }
        else
          TIM2CH1_CAP_STA++;    //溢出次数+1      
      } 
    }
  }
  if (htim == &amp;amp;htim3)
  {
    LED2_TOG;
  }
}
void HAL_TIM_IC_CaptureCallback(TIM_HandleTypeDef *htim){
  if (htim == &amp;amp;htim2){
    if((TIM2CH1_CAP_STA &amp;amp; 0X80) == 0){  //还未成功捕获
      if(TIM2CH1_CAP_STA &amp;amp; 0X40){   //捕获到上升沿后条件为真
        TIM2CH1_CAP_STA |= 0X80;  //标记为完成一次高电平捕获
        TIM2CH1_CAP_VAL = HAL_TIM_ReadCapturedValue(&amp;amp;htim2,TIM_CHANNEL_1);  //设置上升沿捕获
        TIM_RESET_CAPTUREPOLARITY(&amp;amp;htim2,TIM_CHANNEL_1);  //清除原来的设置  
        TIM_SET_CAPTUREPOLARITY(&amp;amp;htim2,TIM_CHANNEL_1,TIM_ICPOLARITY_RISING);  //设置上升沿捕获
      }
      else{
        TIM2CH1_CAP_STA = 0;
        TIM2CH1_CAP_VAL = 0;
        TIM2CH1_CAP_STA |= 0X40;  //标记捕获到上升沿
        __HAL_TIM_DISABLE(&amp;amp;htim2);  //关闭定时器
        __HAL_TIM_SET_COUNTER(&amp;amp;htim2,0);   //计数器值清零
        TIM_RESET_CAPTUREPOLARITY(&amp;amp;htim2,TIM_CHANNEL_1);  //清除原来的设置      
        TIM_SET_CAPTUREPOLARITY(&amp;amp;htim2,TIM_CHANNEL_1,TIM_ICPOLARITY_FALLING); //设置下降沿捕获
        __HAL_TIM_ENABLE(&amp;amp;htim2); //使能定时器 
      } 
    }
  }
} 
/* USER CODE END 0 */
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;3-函数说明&#34;&gt;3. 函数说明&lt;/h2&gt;
&lt;h3 id=&#34;31-printf&#34;&gt;3.1 &lt;code&gt;Printf&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;实验中使用的串口输出函数&lt;code&gt;Printf()&lt;/code&gt;定义在&lt;code&gt;usart.c&lt;/code&gt;中，定义如下：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;/* USER CODE BEGIN 1 */

char uart_buffer[UART_BUFFER_SIZE];
int uart_buffer_pos = 0;

void Printf(const char *format, ...)
{
  char buffer[100];
  va_list args;
  va_start(args, format);
  vsnprintf(buffer, sizeof(buffer), format, args);
  HAL_UART_Transmit(&amp;amp;huart1, (uint8_t *)buffer, strlen(buffer), HAL_MAX_DELAY);
  va_end(args);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;其在&lt;code&gt;usart.h&lt;/code&gt;中被调用：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;/* USER CODE BEGIN Includes */
#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;stdarg.h&amp;gt;
#include &amp;lt;string.h&amp;gt;
void Printf(const char *format, ...);
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;32-get_distancegp2d12&#34;&gt;3.2 &lt;code&gt;get_distance&lt;/code&gt;（GP2D12）&lt;/h3&gt;
&lt;p&gt;该函数位于&lt;code&gt;gp2d12.c&lt;/code&gt;中，其调用的ADC相关函数位于&lt;code&gt;adc.c&lt;/code&gt;中：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;// gp2d12.h
#ifndef __GP2D12_H
#define __GP2D12_H

float vol2dis(float voltage);
float get_distance(void);

#endif	


// gp2d12.c
#include &amp;quot;gp2d12.h&amp;quot;
#include &amp;quot;adc.h&amp;quot;
#include  &amp;quot;math.h&amp;quot;//使用pow函数

float vol2dis(float voltage) { return 28.69643063188021 * pow(voltage, -1.153681035551901) - 0.15368103480916; }

float get_distance(){
    uint16_t adcx;
    adcx = Get_Adc_Average(ADC_CHANNEL_1, 20);
    float voltage = (float)adcx * (5.0 / 4096);
    float dp_distance = vol2dis(voltage);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;//adc.h
/* USER CODE BEGIN Prototypes */
uint16_t Get_Adc(uint32_t ch);          
uint16_t Get_Adc_Average(uint32_t ch,uint8_t times);
/* USER CODE END Prototypes */

//adc.c
/* USER CODE BEGIN 1 */

uint16_t Get_Adc(uint32_t ch)   
{
    ADC_ChannelConfTypeDef ADC1_ChanConf;
    
    ADC1_ChanConf.Channel=ch;                                  
    ADC1_ChanConf.Rank=1;                                       
    ADC1_ChanConf.SamplingTime=ADC_SAMPLETIME_239CYCLES_5;        
    // ADC1_ChanConf.Offset=0;                 
    HAL_ADC_ConfigChannel(&amp;amp;hadc1,&amp;amp;ADC1_ChanConf);        
  
    HAL_ADC_Start(&amp;amp;hadc1);                              
  
    HAL_ADC_PollForConversion(&amp;amp;hadc1,10);                
 
  return (uint16_t)HAL_ADC_GetValue(&amp;amp;hadc1);          
}
uint16_t Get_Adc_Average(uint32_t ch,uint8_t times)
{
  uint32_t temp_val=0;
  uint8_t t;
  for(t=0;t&amp;lt;times;t++)
  {
    temp_val+=Get_Adc(ch);
    HAL_Delay(5);
  }
  return temp_val/times;
} 
/* USER CODE END 1 */
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;321-vol2dis&#34;&gt;3.2.1 &lt;code&gt;vol2dis&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;vol2dis&lt;/code&gt;函数的作用是将ADC获取到的电压值转换为距离值，是根据Proteus仿真采集到的数据使用线性函数拟合而来，具体的&lt;code&gt;python&lt;/code&gt;程序如下：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;from pylab import *
from scipy import optimize
mpl.rcParams[&#39;font.sans-serif&#39;] = [&#39;SimHei&#39;]

#需要拟合的函数
def f_1(x, A, B, C):
    return A * pow(x,C) + B

x_axis_data = [2.35, 2.17, 2.02, 1.89, 1.78, 1.68, 1.59, 1.51, 1.44, 1.38, 1.33, 1.27, 1.22, 1.18, 1.14, 1.10,
               0.67, 0.66, 0.64, 0.63, 0.62, 0.61, 0.60, 0.59, 0.58, 0.57, 0.56, 
                0.41, 0.41, 0.42, 0.42, 0.43, 0.43, 0.43, 0.44, 0.45, 0.45, 0.46]
y_axis_data = [10.0, 11.0, 12.0, 13.0, 14.0, 15.0, 16.0, 17.0, 18.0, 19.0, 20.0, 21.0, 22.0, 23.0, 24.0, 25.0,
                45.0, 46.0, 47.0, 48.0, 49.0, 50.0, 51.0, 52.0, 53.0, 54.0, 55.0,
                  80.0, 79.0, 78.0, 77.0, 76.0, 75.0, 74.0, 73.0, 72.0, 71.0, 70.0]

plt.figure(&#39;test&#39;)
plt.title(&#39;GP2D12输出电压与距离关系&#39;)
plt.scatter(x_axis_data, y_axis_data, 10, &amp;quot;red&amp;quot;)

A1, B1, C1 = optimize.curve_fit(f_1, x_axis_data, y_axis_data)[0]
x1 = np.arange(0, 100, 0.01)#建立一串0~100的一维数据，步长为0.01
y1 = A1 * pow(x1,C1) + B1
print(&amp;quot;A=&amp;quot;+str(A1))
print(&amp;quot;B=&amp;quot;+str(B1))
print(&amp;quot;C=&amp;quot;+str(C1))
plt.plot(x1, y1, 6, &amp;quot;blue&amp;quot;)

for x, y in zip(x_axis_data, y_axis_data):
    plt.text(x, y+0.3, &#39;%.0f&#39; % y, ha=&#39;center&#39;, va=&#39;bottom&#39;, fontsize=10.5)


plt.xlim(0, 3)
plt.ylim(0, 80)
plt.xlabel(&#39;电压&#39;)
plt.ylabel(&#39;距离&#39;)

# plt.savefig(&#39;拟合直线.jpg&#39;)  # 保存该图片
plt.show()
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;OutPut:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;y1 = A1 * pow(x1,C1) + B1
A=28.69643063188021
B=-0.7567939194670654
C=-1.15368103480916
&lt;/code&gt;&lt;/pre&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;12&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/06/03/oXvqGV6CHscL798.jpg&#34; alt=&#34;12&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
">Proteus 8.15 Professional 多种传感器仿真测试实验</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://luserli.github.io/knDUJnwh4/"" data-c="
          &lt;p&gt;Created: April 23, 2023 10:20 AM&lt;br&gt;
Created by: Luser&lt;br&gt;
Type: MCU&lt;/p&gt;
&lt;p&gt;本次实验MDK工程下载地址：&lt;a href=&#34;https://files.catbox.moe/fxjds0.rar&#34;&gt;点击下载&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;实验向导&#34;&gt;实验向导&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;实验器材:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;阿波罗STM32F429开发板&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;实验目的:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;学习STM32模拟IIC的使用,驱动24C02实现EEPROM数据读写.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;硬件资源:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;DS0(连接在PB1)&lt;/li&gt;
&lt;li&gt;串口1(波特率:115200,PA9/PA10连接在板载USB转串口芯片CH340上面)&lt;/li&gt;
&lt;li&gt;ALIENTEK 2.8/3.5/4.3/7寸LCD模块(包括MCU屏和RGB屏,都支持)&lt;/li&gt;
&lt;li&gt;按键KEY0(PH3)/KEY1(PH2)&lt;/li&gt;
&lt;li&gt;24C02(IIC连接在PH4/PH5上面)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;实验现象:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;本实验通过KEY1按键来控制24C02的写入，通过另外一个按键KEY0来控制24C02的读取。并在LCD模块上面显示相关信息。&lt;strong&gt;由于缺少LCD屏，故使用SPI接口的OLED屏对实验内容进行显示&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&#34;硬件接线&#34;&gt;硬件接线&lt;/h2&gt;
&lt;p&gt;首先将七脚的SPI OLED屏接到下图所示位置：&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/06/03/5OrjT8MHz6CFtAu.jpg&#34; alt=&#34;01&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/06/03/qrcKDk98doGLhVZ.jpg&#34; alt=&#34;02&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;之所以接到这是因为这里刚好有GND和VDD引脚与OLED的GND和VCC相对应，其余的引脚则只需要将对应的GPIO口设置为相应功能就可以直接将OLED屏插上去进行使用了。&lt;/p&gt;
&lt;p&gt;对应的引脚需要查看主板的原理图，这里列出引脚对应的GPIO：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;OLED引脚名&lt;/th&gt;
&lt;th&gt;功能&lt;/th&gt;
&lt;th&gt;主板上对应引脚名&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;对应的GPIO口&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;User Label&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;D0&lt;/td&gt;
&lt;td&gt;spi(CLK)  [SCL]&lt;/td&gt;
&lt;td&gt;BL&lt;/td&gt;
&lt;td&gt;PB5&lt;/td&gt;
&lt;td&gt;OLED_SCL&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;D1&lt;/td&gt;
&lt;td&gt;spi(MOSI)  [SDA]&lt;/td&gt;
&lt;td&gt;D15&lt;/td&gt;
&lt;td&gt;PD10&lt;/td&gt;
&lt;td&gt;OLED_SDA&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;RES&lt;/td&gt;
&lt;td&gt;复位引脚拉高&lt;/td&gt;
&lt;td&gt;D13&lt;/td&gt;
&lt;td&gt;PD8&lt;/td&gt;
&lt;td&gt;OLED_RES&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;DC&lt;/td&gt;
&lt;td&gt;低电平写命令， 高电平写数据&lt;/td&gt;
&lt;td&gt;D11&lt;/td&gt;
&lt;td&gt;PE14&lt;/td&gt;
&lt;td&gt;OLED_DC&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CS&lt;/td&gt;
&lt;td&gt;片选&lt;/td&gt;
&lt;td&gt;D6&lt;/td&gt;
&lt;td&gt;PE9&lt;/td&gt;
&lt;td&gt;OLED_CS&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;cubemx初始化配置&#34;&gt;CubeMX初始化配置&lt;/h2&gt;
&lt;h3 id=&#34;设置各个gpio引脚&#34;&gt;&lt;strong&gt;设置各个GPIO引脚&lt;/strong&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;OLED、开关KEY0、KEY1、KEY_UP、LED0、LED1&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/06/03/dlZn9m5FIBgrsDi.png&#34; alt=&#34;03&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;注意KEY0和KEY1是上拉电阻，KEY_UP是下拉电阻&lt;/p&gt;
&lt;h3 id=&#34;设置iic&#34;&gt;&lt;strong&gt;设置IIC&lt;/strong&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;一定要对应到PH4/PH5上，因为稍后要对24C02进行驱动，而它的IIC连接在PH4/PH5上面&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;注意例程中使用的是软件模拟的IIC，并没有开启硬件IIC，所以在CubeMX中只要设置为输出&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/06/03/4SHakp2rFqABKNZ.png&#34; alt=&#34;04&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;设置rcc与时钟频率&#34;&gt;&lt;strong&gt;设置RCC与时钟频率&lt;/strong&gt;&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;5&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/06/03/Q495NzdO6FSYycv.png&#34; alt=&#34;05&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;程序移植&#34;&gt;程序移植&lt;/h2&gt;
&lt;p&gt;直接将例程中的头文件和源文件移植到工程中就可以使用，当然也可以只移植部分代码，比如sys.c中的宏定义可以直接在&lt;code&gt;main.c&lt;/code&gt;中进行定义，之后就只需要把&lt;code&gt;#include “sys.h”&lt;/code&gt;换成&lt;code&gt;#include “main.h”&lt;/code&gt;就好了，至于&lt;code&gt;delay.c&lt;/code&gt;中的函数则可以在用到其中的延时函数时直接用&lt;code&gt;HAL_Delay()&lt;/code&gt;函数平替掉，这里为了省事就不进行这些操作，直接移植库：&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;6&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/06/03/XTsykSDcANWYGgw.png&#34; alt=&#34;06&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;主函数编写&#34;&gt;主函数编写&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;//main.c文件部分代码
//只包含宏定义与main函数
#include &amp;quot;main.h&amp;quot;
#include &amp;quot;gpio.h&amp;quot;

/* Private includes ----------------------------------------------------------*/
/* USER CODE BEGIN Includes */
#include &amp;quot;sys.h&amp;quot;
#include &amp;quot;key.h&amp;quot;
#include &amp;quot;delay.h&amp;quot;
#include &amp;quot;oled.h&amp;quot;
#include &amp;quot;24cxx.h&amp;quot;
#define LED0 PBout(1)   //LED0
#define LED1 PBout(0)   //LED1
/* USER CODE END Includes */

/* Private function prototypes -----------------------------------------------*/
void SystemClock_Config(void);
/* USER CODE BEGIN PFP */

/* USER CODE END PFP */

/* Private user code ---------------------------------------------------------*/
/* USER CODE BEGIN 0 */

//要写入到24c02的字符串数组
const u8 TEXT_Buffer[]={&amp;quot;STM32 IIC TEST&amp;quot;};
#define T_SIZE sizeof(TEXT_Buffer)

/* USER CODE END 0 */

/**
  * @brief  The application entry point.
  * @retval int
  */
int main(void)
{
  /* USER CODE BEGIN 1 */

  /* USER CODE END 1 */

  /* MCU Configuration--------------------------------------------------------*/

  /* Reset of all peripherals, Initializes the Flash interface and the Systick. */
  HAL_Init();

  /* USER CODE BEGIN Init */

  /* USER CODE END Init */

  /* Configure the system clock */
  SystemClock_Config();

  /* USER CODE BEGIN SysInit */

  /* USER CODE END SysInit */

  /* Initialize all configured peripherals */
  MX_GPIO_Init();
  /* USER CODE BEGIN 2 */
  delay_init(180);                //初始化delay
  OLED_Init();	                //初始化OLED
  AT24CXX_Init();				    //初始化IIC
  u8 key;
	u16 i=0;
	u8 datatemp[T_SIZE];
  OLED_Clear();
  OLED_ShowString(0,0,&amp;quot;F429 IIC TEST&amp;quot;,12);
  OLED_ShowString(0,1,&amp;quot;KEY1:Write&amp;quot;,12);	
  OLED_ShowString(0,2,&amp;quot;KEY0:Read&amp;quot;,12);	
  while(AT24CXX_Check())//检测不到24c02
	{
		OLED_ShowString(0,3,&amp;quot;24C02 Check Failed!&amp;quot;,12);
		delay_ms(500);
		OLED_ShowString(0,3,&amp;quot;Please Check!&amp;quot;,12);
		delay_ms(500);
		LED0=!LED0;//DS0闪烁
	}
	OLED_ShowString(0,3,&amp;quot;24C02 Ready!&amp;quot;,12); 
  /* USER CODE END 2 */

  /* Infinite loop */
  /* USER CODE BEGIN WHILE */
  while (1)
  {
		key=KEY_Scan(0);
		if(key==KEY1_PRES)//KEY1按下,写入24C02
		{
			OLED_Clear();
			OLED_ShowString(0,0,&amp;quot;Start Write....&amp;quot;,12);
			AT24CXX_Write(0,(u8*)TEXT_Buffer,T_SIZE);
			OLED_ShowString(0,1,&amp;quot;Write Finished!&amp;quot;,12);//提示传送完成
		}
		if(key==KEY0_PRES)//KEY0按下,读取字符串并显示
		{
      OLED_Clear();
			OLED_ShowString(0,0,&amp;quot;Start Read...&amp;quot;,12);
			AT24CXX_Read(0,datatemp,T_SIZE);
			OLED_ShowString(0,1,&amp;quot;The Data Is:&amp;quot;,12);//提示传送完成
			OLED_ShowString(0,2,datatemp,12);//显示读到的字符串
		}
		i++;
		delay_ms(10);
		if(i==20)
		{
			LED0=!LED0;//提示系统正在运行
			i=0;
		}
    /* USER CODE END WHILE */

    /* USER CODE BEGIN 3 */
  }
  /* USER CODE END 3 */
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;实验现象&#34;&gt;实验现象&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;检测到24c02&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;7&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/06/03/RV6vQTah1rgwA4N.jpg&#34; alt=&#34;06&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;按下KEY1，写入数据&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;8&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/06/03/IV694dR2vWDbCwB.jpg&#34; alt=&#34;Untitled&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;按下KEY0，读取数据&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;9&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/06/03/vLgXArFQyNMGszq.jpg&#34; alt=&#34;Untitled&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;10&#34;&gt;&lt;img src=&#34;https://files.catbox.moe/3n3dve.gif&#34; alt=&#34;https://files.catbox.moe/3n3dve.gif&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ol&gt;
">正点原子F429IGT6例程IIC实验的CubeMX工程移植</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://luserli.github.io/3zyCbX8Zl/"" data-c="
          &lt;p&gt;Created: April 4, 2023 11:13 AM&lt;br&gt;
Created by: Luser&lt;br&gt;
Type: AI&lt;/p&gt;
&lt;p&gt;在树莓派上部署好T265后，有多种方式可以调用T265的数据信息，例如使用ROS调用，使用python、C++通过SDK提供的API调用。&lt;/p&gt;
&lt;p&gt;这里使用C++调用SDK API的方式来获取数据信息。&lt;/p&gt;
&lt;p&gt;具体实现方式源代码中注释写的很详细，这里不对代码进行分析，只介绍大概思路和具体实现过程。&lt;/p&gt;
&lt;p&gt;项目地址：&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/luserli/raspberry_usart_t265&#34;&gt;https://github.com/luserli/raspberry_usart_t265&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;使用c调用sdk数据并进行输出打印&#34;&gt;使用C++调用SDK数据并进行输出打印&lt;/h2&gt;
&lt;p&gt;首先需要解决如何获取SDK数据的问题,&lt;/p&gt;
&lt;p&gt;一个快速了解SDK中API的使用方法是直接翻看官方例程：&lt;a href=&#34;https://dev.intelrealsense.com/docs/rs-hello-realsense&#34;&gt;官网例程&lt;/a&gt; (这里主要看C/C++版，想用python的也可以自己看)&lt;/p&gt;
&lt;p&gt;通过例程给的代码可以很快的学习到如何调用API获取数据，只需要将获取到的数据直接使用cout就可以在终端查看到输出。&lt;/p&gt;
&lt;p&gt;如果想要查看到图像数据则可以安装编译OpenCV库来处理图像数据，OpenCV库的安装直接参照官方文档的教程操作就好（编译过程需要很长时间，要耐心等待）：&lt;a href=&#34;https://docs.opencv.org/4.x/d7/d9f/tutorial_linux_install.html&#34;&gt;OpenCV在Linux上的安装教程文档&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;操作树莓派的gpio实现串口通信&#34;&gt;操作树莓派的GPIO实现串口通信&lt;/h2&gt;
&lt;h3 id=&#34;gpio的调用&#34;&gt;GPIO的调用&lt;/h3&gt;
&lt;p&gt;使用 &lt;code&gt;wiringPi&lt;/code&gt;这个库可以对树莓派的GPIO口进行一系列操作，安装方法参照 &lt;code&gt;wiringPi&lt;/code&gt;的官方文档：&lt;a href=&#34;http://wiringpi.com/download-and-install/&#34;&gt;Raspberry Pi | Wiring&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;使用wiringPi操作树莓派的gpio这个方法在Ubuntu22.04桌面系统上实测是可行的，其余方法则需再行摸索。&lt;/p&gt;
&lt;h3 id=&#34;使用串口将t265的数据传输到其它设备&#34;&gt;使用串口将T265的数据传输到其它设备&lt;/h3&gt;
&lt;p&gt;如果只需要打印到上位机看数据则直接使用 &lt;code&gt;wiringPi&lt;/code&gt;中的 &lt;code&gt;serialPrintf&lt;/code&gt;函数打印原始数据就好了。这里需要将数据编辑成一定格式之后再传输给单片机来进行通信，需要将原本的float数据转换成int类型，再转换成十六进制的形式，并且每一个数据都需要传输其高八位数据和低八位数据，且一次数据传输需要以特定的针头开始，以特定的针尾截止。&lt;/p&gt;
&lt;p&gt;数据格式如下：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;0xaa 0x29 0x05 0xff 0x06 高八位 低八位 高八位 低八位 ____ ____ ...... 0x00&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;前五个为针头，最后一个为针尾。&lt;/p&gt;
&lt;p&gt;故代码中有一部分是对数据数组进行操作。&lt;/p&gt;
&lt;p&gt;树莓派本身含有两个串口一个是mini串口，一个是硬件串口，关于其介绍和具体需要进行的操作请参照这两篇文章：&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.csdn.net/wanggao_1990/article/details/103702563&#34;&gt;树莓派 gpio / 串口通信_树莓派串口通信_aworkholic的博客-CSDN博客&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.csdn.net/qq_41208487/article/details/120863092&#34;&gt;树莓派4B没有serial0或ttyS0，serial0没有映射到ttyS0，serial0和serial1调换映射_树莓派ttys0_红衰绿老的博客-CSDN博客&lt;/a&gt;&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/04/04/5MtpsQwYJjbxCfg.png&#34; alt=&#34;https://s2.loli.net/2023/04/04/5MtpsQwYJjbxCfg.png&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
">树莓派&&T265--数据读取与串口传输</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://luserli.github.io/J1IHItQVm/"" data-c="
          &lt;p&gt;Created: March 31, 2023 6:44 PM&lt;br&gt;
Created by: Luser&lt;br&gt;
Type: AI&lt;/p&gt;
&lt;p&gt;如果树莓派内存空间不够，担心编译时内存不足，可以参考这篇文章里的内容扩大swap分区后再操作&lt;a href=&#34;https://zhuanlan.zhihu.com/p/185792650&#34;&gt;【20-8-7】树莓派上部署英特尔深度相机IntelRealsense T265 - 知乎 (zhihu.com)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;建议使用Ubuntu系列系统&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;参考博文找到的简易步骤：&lt;/p&gt;
&lt;h2 id=&#34;安装依赖&#34;&gt;安装依赖&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;sudo apt-get install git cmake libssl-dev libusb-1.0-0-dev pkg-config libgtk-3-dev libglfw3-dev libgl1-mesa-dev libglu1-mesa-dev
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;下载realsense-sdk&#34;&gt;下载Realsense SDK&lt;/h2&gt;
&lt;p&gt;由于T265已经停产了，所以realsense v2.54.1 以后不再支持T265，故需下载 2.53.1版：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;git clone -b v2.53.1 https://github.com/IntelRealSense/librealsense.git
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;编译准备&#34;&gt;编译准备&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;cd librealsense
mkdir build &amp;amp;&amp;amp; cd build
cmake ..
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;运行cmake时不要自行设置参数！！不然很可能会不能运行相机。&lt;/p&gt;
&lt;h2 id=&#34;编译与安装&#34;&gt;编译与安装&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;make
sudo make install
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;树莓派使用&lt;code&gt;make -j&lt;/code&gt;进行多线程编译可能有点压力，使用单线程编译就好&lt;/p&gt;
&lt;h2 id=&#34;设置udev规则&#34;&gt;设置udev规则&lt;/h2&gt;
&lt;p&gt;运行项目中&lt;code&gt;scripts&lt;/code&gt;目录下的&lt;code&gt;setup_udev_rules.sh&lt;/code&gt;就好：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;sudo sh ./scripts/setup_udev_rules.sh
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;验证安装&#34;&gt;&lt;strong&gt;&lt;strong&gt;验证安装&lt;/strong&gt;&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;将T265通过USB连接到树莓派上（要连蓝色接口的USB3.0），然后运行下面这个代码。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;rs-enumerate-devices
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;只要能输出信息，而不是说没有设备插入，那就是成功了。&lt;/p&gt;
&lt;h2 id=&#34;测试&#34;&gt;测试&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;sudo realsense-viewer
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;也可以不使用sudo权限，但可能会有权限错误出现。&lt;/p&gt;
&lt;p&gt;成功运行以后可以得到如下的界面效果：&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/06/10/ZtjWoh8LYD3AJUg.png&#34; alt=&#34;Untitled&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;错误排查&#34;&gt;错误排查&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;SDK&lt;/code&gt;的&lt;code&gt;realsense-viewer&lt;/code&gt;在读取&lt;code&gt;T265&lt;/code&gt;数据时需要重新插拔&lt;code&gt;T265&lt;/code&gt;才能正确识别，&lt;/li&gt;
&lt;/ul&gt;
">树莓派4B部署Intel Realsense T265</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://luserli.github.io/ol0eWNJCJ/"" data-c="
          &lt;p&gt;Created: March 18, 2023 9:04 AM&lt;br&gt;
Created by: Luser&lt;br&gt;
Type: AI&lt;/p&gt;
&lt;h2 id=&#34;在工程中引入printf输出函数的曲线方法重定义一个输出函数&#34;&gt;在工程中引入printf输出函数的曲线方法—重定义一个输出函数&lt;/h2&gt;
&lt;p&gt;在使用STM32CubeMX生成的makefile工程中，需要进行一些配置才能使用printf函数。具体步骤如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;确保你的代码中包含了stdio.h头文件，它包含了printf函数的定义和相关宏定义。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在代码中添加如下语句：&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;stdarg.h&amp;gt;
void USART_Printf(const char *format, ...) {
  char buffer[100];
  va_list args;
  va_start(args, format);
  vsnprintf(buffer, sizeof(buffer), format, args);
  HAL_UART_Transmit(&amp;amp;huart1, (uint8_t *) buffer, strlen(buffer), HAL_MAX_DELAY);
  va_end(args);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;该函数将printf格式化字符串中的内容通过串口输出。当你需要输出printf格式化字符串中的内容时，调用该函数即可：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;USART_Printf(&amp;quot;Hello, world! x = %d\n&amp;quot;, x);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;其中，USART_Printf函数可以根据实际情况修改，比如修改串口句柄为你所使用的串口句柄。&lt;/p&gt;
&lt;h2 id=&#34;对于usart_printf函数不能正常输出long-long-类型变量的问题&#34;&gt;对于USART_Printf函数不能正常输出long long 类型变量的问题&lt;/h2&gt;
&lt;p&gt;USART_Printf函数是一个串口打印输出函数，它是基于printf函数实现的。对于long long类型的变量，在使用printf函数输出时，需要使用&amp;quot;%lld&amp;quot;格式字符串。但是，在某些编译器中，&amp;quot;%lld&amp;quot;格式字符串可能不被支持，导致输出异常。&lt;/p&gt;
&lt;p&gt;为了解决这个问题，可以使用以下两种方法：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;使用&amp;quot;%ld&amp;quot;格式字符串输出long long类型的变量。&amp;quot;%ld&amp;quot;格式字符串用于输出长整型变量，可以兼容long long类型的变量。例如：&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;long long x = 1234567890123;
USART_Printf(&amp;quot;x = %ld\n&amp;quot;, x);
&lt;/code&gt;&lt;/pre&gt;
&lt;ol&gt;
&lt;li&gt;将long long类型的变量拆分成两个int类型的变量进行输出。例如：&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;long long x = 1234567890123;
USART_Printf(&amp;quot;x = %ld%ld\n&amp;quot;, (int)(x &amp;gt;&amp;gt; 32), (int)(x &amp;amp; 0xFFFFFFFF));
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;这种方法将long long类型的变量分为高32位和低32位两个int类型的变量进行输出。注意，使用这种方法时需要确保long long类型的变量不会溢出int类型的范围。&lt;/p&gt;
">使用STM32CubeMX生成的Makefile工程中使用printf函数在串口打印输出的问题</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://luserli.github.io/OwJh8dwA2/"" data-c="
          &lt;p&gt;Created: February 22, 2023 8:37 PM&lt;br&gt;
Created by: Luser&lt;br&gt;
Type: AI、model compression&lt;/p&gt;
&lt;p&gt;使用基于numpy构建的全连接层神经网络来对这篇paper进行简单的实验复现，源码： &lt;a href=&#34;https://github.com/luserli/pruning&#34;&gt;Github&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Paper：&lt;a href=&#34;https://arxiv.org/abs/1506.02626v3&#34;&gt;[1506.02626v3] Learning both Weights and Connections for Efficient Neural Networks (arxiv.org)&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Team report slides： &lt;a href=&#34;https://show.zohopublic.com.cn/publish/6lbj22f4a099799de43d6837fe08ebf478d22&#34;&gt;https://show.zohopublic.com.cn/publish/6lbj22f4a099799de43d6837fe08ebf478d22&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;pseudo-code&#34;&gt;Pseudo-code&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/luserli/figure/photos/Untitled.png&#34; alt=&#34;Untitled&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;code-implementation&#34;&gt;Code implementation&lt;/h2&gt;
&lt;h3 id=&#34;make-mask-matrix-and-pruning&#34;&gt;Make mask matrix and pruning&lt;/h3&gt;
&lt;h3 id=&#34;set-threshold&#34;&gt;Set threshold&lt;/h3&gt;
&lt;p&gt;对任意矩阵，设置一个threshold，矩阵中小于这个threshold的元素就置为0(False)，大于threshold的元素置为1(True)，这样就得到了这个矩阵的mask矩阵&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;code&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import numpy as np
a = np.array([[0,1,2,3,4],[5,6,7,8,9]])
threshold = 4
print(&amp;quot;oriarray:&amp;quot;)
print(a)
mask = a &amp;gt; threshold
a=np.multiply(a,mask)
print(&amp;quot;pruning:&amp;quot;)
print(a)
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;output&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;oriarray:
[[0 1 2 3 4]
 [5 6 7 8 9]]
pruning:
[[0 0 0 0 0]
 [5 6 7 8 9]]
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;对于未知、元素量大的矩阵，想要获得其mask矩阵，使用下面这个函数&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;np.percentile(arrary, number)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;这个函数将矩阵内的元素从小到大排列并且按照 number 索引去取得相应的分位数，number是0~100的数，比如number=50，就会将矩阵里所有&lt;/p&gt;
&lt;p&gt;元素分为等量的两份，返回两份数字之间的中位数。number=1，就会将矩阵分为1:99的两份数，返回这两分数之间的数。也就是返回按比例分组&lt;/p&gt;
&lt;p&gt;的阈值。&lt;/p&gt;
&lt;p&gt;所以可以改进上面生成mask矩阵的代码：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;code&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import numpy as np
a = np.array([[0,1,2,3,4],[5,6,7,8,9]])
h_threshold = 20
print(&amp;quot;oriarray:&amp;quot;)
print(a)
threshold = np.percentile(a, h_threshold)
mask = a &amp;gt; threshold
a=np.multiply(a,mask)
print(&amp;quot;pruning:&amp;quot;)
print(a)
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;output&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;oriarray:
[[0 1 2 3 4]
 [5 6 7 8 9]]
pruning:
[[0 0 2 3 4]
 [5 6 7 8 9]]
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;continuous-pruning&#34;&gt;Continuous pruning&lt;/h3&gt;
&lt;p&gt;想要对矩阵进行连续的pruning，需要注意np.percentile(a, h_threshold)函数在对元素进行排列时，将所有的0都加入排列了，需要消除0对计算阈值的影响&lt;/p&gt;
&lt;p&gt;比如，对于矩阵&lt;/p&gt;
&lt;p class=&#39;katex-block&#39;&gt;&lt;span class=&#34;katex-display&#34;&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo fence=&#34;true&#34;&gt;[&lt;/mo&gt;&lt;mtable&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&#34;0&#34; displaystyle=&#34;false&#34;&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&#34;0&#34; displaystyle=&#34;false&#34;&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&#34;0&#34; displaystyle=&#34;false&#34;&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&#34;0&#34; displaystyle=&#34;false&#34;&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&#34;0&#34; displaystyle=&#34;false&#34;&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&#34;0&#34; displaystyle=&#34;false&#34;&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&#34;0&#34; displaystyle=&#34;false&#34;&gt;&lt;mn&gt;6&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&#34;0&#34; displaystyle=&#34;false&#34;&gt;&lt;mn&gt;7&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&#34;0&#34; displaystyle=&#34;false&#34;&gt;&lt;mn&gt;8&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&#34;0&#34; displaystyle=&#34;false&#34;&gt;&lt;mn&gt;9&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;mo fence=&#34;true&#34;&gt;]&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;\begin{bmatrix}
 0&amp;amp;1&amp;amp;2&amp;amp;3&amp;amp;4\\
 5&amp;amp;6&amp;amp;7&amp;amp;8&amp;amp;9
\end{bmatrix}
&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:2.40003em;vertical-align:-0.95003em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;minner&#34;&gt;&lt;span class=&#34;mopen delimcenter&#34; style=&#34;top:0em;&#34;&gt;&lt;span class=&#34;delimsizing size3&#34;&gt;[&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mtable&#34;&gt;&lt;span class=&#34;col-align-c&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.45em;&#34;&gt;&lt;span style=&#34;top:-3.61em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-2.4099999999999997em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;5&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.9500000000000004em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;arraycolsep&#34; style=&#34;width:0.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;arraycolsep&#34; style=&#34;width:0.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;col-align-c&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.45em;&#34;&gt;&lt;span style=&#34;top:-3.61em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-2.4099999999999997em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;6&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.9500000000000004em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;arraycolsep&#34; style=&#34;width:0.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;arraycolsep&#34; style=&#34;width:0.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;col-align-c&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.45em;&#34;&gt;&lt;span style=&#34;top:-3.61em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-2.4099999999999997em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;7&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.9500000000000004em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;arraycolsep&#34; style=&#34;width:0.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;arraycolsep&#34; style=&#34;width:0.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;col-align-c&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.45em;&#34;&gt;&lt;span style=&#34;top:-3.61em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-2.4099999999999997em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;8&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.9500000000000004em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;arraycolsep&#34; style=&#34;width:0.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;arraycolsep&#34; style=&#34;width:0.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;col-align-c&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.45em;&#34;&gt;&lt;span style=&#34;top:-3.61em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;4&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-2.4099999999999997em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;9&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.9500000000000004em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose delimcenter&#34; style=&#34;top:0em;&#34;&gt;&lt;span class=&#34;delimsizing size3&#34;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;，如果对它进行20%的pruning，则会得到&lt;/p&gt;
&lt;p class=&#39;katex-block&#39;&gt;&lt;span class=&#34;katex-display&#34;&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo fence=&#34;true&#34;&gt;[&lt;/mo&gt;&lt;mtable&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&#34;0&#34; displaystyle=&#34;false&#34;&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&#34;0&#34; displaystyle=&#34;false&#34;&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&#34;0&#34; displaystyle=&#34;false&#34;&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&#34;0&#34; displaystyle=&#34;false&#34;&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&#34;0&#34; displaystyle=&#34;false&#34;&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&#34;0&#34; displaystyle=&#34;false&#34;&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&#34;0&#34; displaystyle=&#34;false&#34;&gt;&lt;mn&gt;6&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&#34;0&#34; displaystyle=&#34;false&#34;&gt;&lt;mn&gt;7&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&#34;0&#34; displaystyle=&#34;false&#34;&gt;&lt;mn&gt;8&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&#34;0&#34; displaystyle=&#34;false&#34;&gt;&lt;mn&gt;9&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;mo fence=&#34;true&#34;&gt;]&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;\begin{bmatrix}
 0&amp;amp;0&amp;amp;2&amp;amp;3&amp;amp;4\\
 5&amp;amp;6&amp;amp;7&amp;amp;8&amp;amp;9
\end{bmatrix}
&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:2.40003em;vertical-align:-0.95003em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;minner&#34;&gt;&lt;span class=&#34;mopen delimcenter&#34; style=&#34;top:0em;&#34;&gt;&lt;span class=&#34;delimsizing size3&#34;&gt;[&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mtable&#34;&gt;&lt;span class=&#34;col-align-c&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.45em;&#34;&gt;&lt;span style=&#34;top:-3.61em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-2.4099999999999997em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;5&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.9500000000000004em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;arraycolsep&#34; style=&#34;width:0.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;arraycolsep&#34; style=&#34;width:0.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;col-align-c&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.45em;&#34;&gt;&lt;span style=&#34;top:-3.61em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-2.4099999999999997em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;6&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.9500000000000004em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;arraycolsep&#34; style=&#34;width:0.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;arraycolsep&#34; style=&#34;width:0.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;col-align-c&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.45em;&#34;&gt;&lt;span style=&#34;top:-3.61em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-2.4099999999999997em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;7&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.9500000000000004em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;arraycolsep&#34; style=&#34;width:0.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;arraycolsep&#34; style=&#34;width:0.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;col-align-c&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.45em;&#34;&gt;&lt;span style=&#34;top:-3.61em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-2.4099999999999997em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;8&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.9500000000000004em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;arraycolsep&#34; style=&#34;width:0.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;arraycolsep&#34; style=&#34;width:0.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;col-align-c&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.45em;&#34;&gt;&lt;span style=&#34;top:-3.61em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;4&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-2.4099999999999997em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;9&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.9500000000000004em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose delimcenter&#34; style=&#34;top:0em;&#34;&gt;&lt;span class=&#34;delimsizing size3&#34;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;，但如果继续用原来的方法直接计算阈值对新生成的矩阵&lt;/p&gt;
&lt;p&gt;进行20%的pruning，矩阵的值并不会发生变化，原因就是两个0都被放进了数组里进行计算，10个数里的20%自然就是取前两个，也就是前两个0被置为0，&lt;/p&gt;
&lt;p&gt;结果也就不变。&lt;/p&gt;
&lt;p&gt;为此可以定义一个函数，每次进行连续的pruning时，该函数都将矩阵中的N个0变成一个0，然后再将其余的数添加到对应数组中，也就是这个函数返回的&lt;/p&gt;
&lt;p&gt;是只有1个0和输入向量其余非0数的数组：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;function：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;def array0(a):
	b=[]
	b.append(0)
	for i in a:
		for j in i:
			if j != 0:
				b.append(j)
	return b
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;code:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;#make mask
import numpy as np
a = np.array([[0,1,2,3,4],[5,6,7,8,9]])
print(&amp;quot;oriarray:&amp;quot;)
print(a)

mask = a &amp;gt; np.percentile(a, 20)
print(np.percentile(a,20))
a=np.multiply(a,mask)
print(&amp;quot;pruning:&amp;quot;)
print(a)
#直接继续进行20%的pruning，输出不变
mask = a &amp;gt; np.percentile(a, 20)
print(np.percentile(a,20))
a=np.multiply(a,mask)
print(&amp;quot;pruning:&amp;quot;)
print(a)

def array0(a):
	b=[]
	b.append(0)
	for i in a:
		for j in i:
			if j != 0:
				b.append(j)
	return b
#减去0后连续九次进行20%pruning
b=array0(a)
for l in range(9):
	mask = a &amp;gt; np.percentile(b, 20)
	a=np.multiply(a,mask)
	b=array0(a)

print(&amp;quot;pruning:&amp;quot;)
print(a)
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;output&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;oriarray:
[[0 1 2 3 4]
 [5 6 7 8 9]]
1.8
pruning:
[[0 0 2 3 4]
 [5 6 7 8 9]]
1.6
pruning:
[[0 0 2 3 4]
 [5 6 7 8 9]]
pruning:
[[0 0 0 0 0]
 [0 6 7 8 9]]
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;retrain-the-trained-network-parameters&#34;&gt;Retrain the trained network parameters&lt;/h3&gt;
&lt;p&gt;这里使用最基础的&lt;code&gt;numpy&lt;/code&gt;构建神经网络，该网络可以自定义网络层数和相应节点数，&lt;/p&gt;
&lt;p&gt;对一个全连接层的神经网络进行参数pruning复现一下论文里的方法，下面是训练时的神经网络的隐藏层和输出层的结构示意图：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;#指定的网络层数和节点数
layer_dims = [train_set_x.shape[0], 5, 4, 3, 2, 1]
&lt;/code&gt;&lt;/pre&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/01/03/UjsCw54YH9p2JlT.jpg&#34; alt=&#34;https://s2.loli.net/2023/01/03/UjsCw54YH9p2JlT.jpg&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;这是一个简单的MLP，作用是判断输入的图片中有没有车，如果图片里有车就输出1，图片里没有车就输出0。&lt;/p&gt;
&lt;p&gt;通过该网络训练好参数后将其保存下来，后期可以直接加载保存好的参数文件进行预测或者进行再训练。&lt;/p&gt;
&lt;p&gt;导入需要的包&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;from tqdm import tqdm
import numpy as np
import matplotlib.pyplot as plt
from nn_functions import *
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;载入数据集&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;##load dataset
datas = &#39;datasets/carvnocar.h5&#39;
train_set_x, train_y, test_set_x, test_y = load_files(datas)
#行标准化
train_x = train_set_x / 255
test_x = test_set_x / 255
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;载入参数文件，得到训练好的原始参数和隐藏层层数&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;##load parameters
f_parameters = &#39;datasets/parameters.npy&#39;
parameters = np.load(f_parameters, allow_pickle=&#39;TRUE&#39;).item()
L = len(parameters)//2 #隐藏层层数
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;编写判断当前参数对输入数据进行预测的准确度的函数&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;#Print accuracy
def accuracy(parameters):
	Y_prediction_train = predict(parameters, train_x)
	Y_prediction_test = predict(parameters, test_x)
	print(&amp;quot;Training set accuracy：&amp;quot;  , format(100 - np.mean(np.abs(Y_prediction_train - train_y)) * 100) ,&amp;quot;%&amp;quot;)
	print(&amp;quot;Test set accuracy：&amp;quot;  , format(100 - np.mean(np.abs(Y_prediction_test - test_y)) * 100) ,&amp;quot;%&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;由于在retrain-pruning的过程对比之前网络训练的过程中多了一个pruning的过程，&lt;/p&gt;
&lt;p&gt;所以不能直接调用之前训练网络参数的函数，需要重写前向传播函数和训练函数：&lt;/p&gt;
&lt;p&gt;编写pruning函数：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;#pruning function
def prun(parameters, mask_w):
	for l in range(1,L):
		X = parameters[&#39;W&#39;+str(l)]
		X = np.multiply(X, mask_w[l-1])
		parameters[&#39;W&#39;+str(l)] = X
	return parameters
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;重写&lt;code&gt;forward&lt;/code&gt;函数，编写&lt;code&gt;retrain&lt;/code&gt;函数： &lt;code&gt;retrain&lt;/code&gt;函数通过调用&lt;code&gt;tqdm&lt;/code&gt;包里的功能来实现打印训练过程进度条和实时刷新打印&lt;code&gt;cost&lt;/code&gt;值&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;#Rewrite forward propagation function
def forward_f(X, parameters):
    A = X
    caches = []
    for l in range(1, L):
        A_l = A
        A, cache = forward.activation_forward(A_l, parameters[&#39;W&#39;+str(l)], parameters[&#39;b&#39;+str(l)], &amp;quot;relu&amp;quot;)
        caches.append(cache)
    
    AL, cache = forward.activation_forward(A, parameters[&#39;W&#39; + str(L)], parameters[&#39;b&#39; + str(L)], &amp;quot;sigmoid&amp;quot;)
    caches.append(cache)

    return AL, caches

#Retrain function
def retrain(parameters, X, Y, learning_rate, num_iterations):
	with tqdm(total=num_iterations) as t:
		for i in range(0, num_iterations):
			AL, caches = forward_f(X, parameters)
			cost = np.squeeze(forward.cost_function(AL, Y))
			grads = backward.backward_function(AL, Y, caches)
			parameters = update_parameters(parameters, grads, learning_rate)
			parameters = prun(parameters, mask_w)
			t.set_description(&#39;Retrain %i&#39; % i)
			t.set_postfix(cost=cost)
			t.update(1)

	return parameters, cost
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;重新载入一份参数以此进行pruning，从对伪代码进行复现&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;prun_parameter = np.load(f_parameters, allow_pickle=&#39;TRUE&#39;).item()
#hyper-parameters
h_threshold=5
delta=0.1
learning_rate=0.05
num_iterations=220

degrees=[]
costs=[]
for i in range(1, 40):
	#Make mask
	mask_w=[]
	for l in range(1,L):
		a=prun_parameter[&#39;W&#39;+str(l)]
		b=array0(a)
		threshold=np.percentile(np.abs(b), h_threshold)
		ms=np.abs(a)&amp;gt;threshold
		if i&amp;gt;1:
			ms=np.multiply(ms,mask_w_l[l-1])# Multiply by the mask matrix of the previous step
		mask_w.append(ms)
		# print(&amp;quot;threshold &amp;quot;+str(l)+&amp;quot;: &amp;quot;+str(threshold))# print threshold
	mask_w_l=mask_w# Save the mask matrix of the previous step
	#Pruning parameters
	prun_parameter=prun(prun_parameter, mask_w)#parameters pruning
	print(&amp;quot;\n &amp;quot;+str(i)+&amp;quot; Pruning parameters: &amp;quot;)
	n=degree(prun_parameter)
	degrees.append(n)
	accuracy(prun_parameter)
	#Retrain parameters
	retrain_parameters, cost = retrain(prun_parameter, train_x, train_y, learning_rate, num_iterations)
	costs.append(cost)
	print(&amp;quot;\nPruning and retrain parameters: &amp;quot;)
	accuracy(retrain_parameters)
	np.save(&#39;datasets/prun_parameter_1/prun_parameters&#39;+str(i)+&#39;.npy&#39;, retrain_parameters)
	#Iterative pruning (Not used during the experiment)
    # h_threshold+=delta*i
	# h_threshold+=5

degree_costs={&#39;degree&#39;:degrees,&#39;costs&#39;:costs}
np.save(&#39;datasets/degree_costs.npy&#39;, degree_costs)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;这里虽然设置了超参数delta(&lt;em&gt;δ&lt;/em&gt;)但是因为用来测试的网络模型很小，禁不起步进比较大的pruning，&lt;/p&gt;
&lt;p&gt;就并没有运用到它，而是采用的每次都裁剪同样比例参数的做法层层递进。&lt;/p&gt;
&lt;h3 id=&#34;some-problems&#34;&gt;Some problems&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;对输入进行连续剪枝的时候需要注意到矩阵里 0 的增多造成的影响&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;通过对上一次mask后的矩阵进行“消零”的处理就可以去除0对mask的影响，&lt;/p&gt;
&lt;p&gt;但引发的新的问题是，我连续剪枝后的矩阵对原矩阵来说并不是每一次都是同样&lt;/p&gt;
&lt;p&gt;的剪枝度，也就是说真实的剪枝度并不是简单的叠加的关系&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;连续递进剪枝度进行剪枝的时候，每一次不同程度的剪枝得到的mask矩阵都是相同的，&lt;/p&gt;
&lt;p&gt;也就是说上一次剪枝后被置为0的数由于这一次的mask矩阵是不同的就会有一些0会在Retrain的过程中&lt;/p&gt;
&lt;p&gt;被重新训练回去，这相当于白忙一场&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;只要在这一次剪枝生成mask矩阵的过程中让这一次的mask矩阵和上一次的mask矩阵按元素相乘，&lt;/p&gt;
&lt;p&gt;得到的这个新的mask矩阵取为本次的矩阵就可以解决这个问题。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;complete-code&#34;&gt;Complete Code&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;from tqdm import tqdm
import numpy as np
import matplotlib.pyplot as plt
from nn_functions import *

#pruning function
def prun(parameters, mask_w):
	for l in range(1,L):
		X = parameters[&#39;W&#39;+str(l)]
		X = np.multiply(X, mask_w[l-1])
		parameters[&#39;W&#39;+str(l)] = X
	return parameters

#Rewrite forward propagation function
def forward_f(X, parameters):
    A = X
    caches = []
    for l in range(1, L):
        A_l = A
        A, cache = forward.activation_forward(A_l, parameters[&#39;W&#39;+str(l)], parameters[&#39;b&#39;+str(l)], &amp;quot;relu&amp;quot;)
        caches.append(cache)
    
    AL, cache = forward.activation_forward(A, parameters[&#39;W&#39; + str(L)], parameters[&#39;b&#39; + str(L)], &amp;quot;sigmoid&amp;quot;)
    caches.append(cache)

    return AL, caches

#Retrain function
def retrain(parameters, X, Y, learning_rate, num_iterations):
	with tqdm(total=num_iterations) as t:
		for i in range(0, num_iterations):
			AL, caches = forward_f(X, parameters)
			cost = np.squeeze(forward.cost_function(AL, Y))
			grads = backward.backward_function(AL, Y, caches)
			parameters = update_parameters(parameters, grads, learning_rate)
			parameters = prun(parameters, mask_w)
			t.set_description(&#39;Retrain %i&#39; % i)
			t.set_postfix(cost=cost)
			t.update(1)

	return parameters, cost

#Print accuracy
def accuracy(parameters):
	Y_prediction_train = predict(parameters, train_x)
	Y_prediction_test = predict(parameters, test_x)
	print(&amp;quot;Training set accuracy：&amp;quot;  , format(100 - np.mean(np.abs(Y_prediction_train - train_y)) * 100) ,&amp;quot;%&amp;quot;)
	print(&amp;quot;Test set accuracy：&amp;quot;  , format(100 - np.mean(np.abs(Y_prediction_test - test_y)) * 100) ,&amp;quot;%&amp;quot;)

#Print Pruning degree
def degree(parameters):
	n=0
	num=0
	L=len(parameters)//2
	for l in range(1, L):
		N=parameters[&#39;W&#39;+str(l)]
		for i in N:
			for v in i:
				num+=1
				if v==0:
					n+=1
	degree=n/num*100
	print(&amp;quot;Parameter pruning degree: &amp;quot;, round(degree,3),&amp;quot;%&amp;quot;)
	return degree

##load dataset
datas = &#39;datasets/carvnocar.h5&#39;
train_set_x, train_y, test_set_x, test_y = load_files(datas)
train_x = train_set_x / 255
test_x = test_set_x / 255

##load parameters
f_parameters = &#39;datasets/parameters.npy&#39;
parameters = np.load(f_parameters, allow_pickle=&#39;TRUE&#39;).item()

L = len(parameters)//2 

print(&amp;quot;Original parameters: &amp;quot;)
accuracy(parameters)

def acc0(a):
	n=0
	for i in a:
		for j in i:
			if j == 0:
				n+=1
	return n

def array0(a):
	b=[]
	if acc0(a)&amp;gt;1:
		b.append(0)
	for i in a:
		for j in i:
			if j != 0:
				b.append(j)
	return b

prun_parameter = np.load(f_parameters, allow_pickle=&#39;TRUE&#39;).item()
#Hyper-parameters
h_threshold=5
delta=0.1
learning_rate=0.05
num_iterations=220

degrees=[]
costs=[]
for i in range(1, 40):
	#Make mask
	mask_w=[]
	for l in range(1,L):
		a=prun_parameter[&#39;W&#39;+str(l)]
		b=array0(a)
		threshold=np.percentile(np.abs(b), h_threshold)
		ms=np.abs(a)&amp;gt;threshold
		if i&amp;gt;1:
			ms=np.multiply(ms,mask_w_l[l-1])# Multiply by the mask matrix of the previous step
		mask_w.append(ms)
		# print(&amp;quot;threshold &amp;quot;+str(l)+&amp;quot;: &amp;quot;+str(threshold))# print threshold
	mask_w_l=mask_w# Save the mask matrix of the previous step
	#Pruning parameters
	prun_parameter=prun(prun_parameter, mask_w)#parameters pruning
	print(&amp;quot;\n &amp;quot;+str(i)+&amp;quot; Pruning parameters: &amp;quot;)
	n=degree(prun_parameter)
	degrees.append(n)
	accuracy(prun_parameter)
	#Retrain parameters
	retrain_parameters, cost = retrain(prun_parameter, train_x, train_y, learning_rate, num_iterations)
	costs.append(cost)
	print(&amp;quot;\nPruning and retrain parameters: &amp;quot;)
	accuracy(retrain_parameters)
	np.save(&#39;datasets/prun_parameter_1/prun_parameters&#39;+str(i)+&#39;.npy&#39;, retrain_parameters)
	#Iterative pruning (Not used during the experiment)
    # h_threshold+=delta*i
	# h_threshold+=5

degree_costs={&#39;degree&#39;:degrees,&#39;costs&#39;:costs}
np.save(&#39;datasets/degree_costs.npy&#39;, degree_costs)
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;experimental-record&#34;&gt;Experimental record&lt;/h2&gt;
&lt;p&gt;不同剪枝度得到的训练至收敛后的cost：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/01/03/tgQWHFR1n8IKXZM.png&#34; alt=&#34;https://s2.loli.net/2023/01/03/tgQWHFR1n8IKXZM.png&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;使用第&lt;strong&gt;三十九次&lt;/strong&gt;剪枝后重训练得到的参数与原参数进行比对、判断：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Ori parameter:
Parameter pruning degree:  0.0 %
Training set accuracy： 98.89502762430939 %
Test set accuracy： 80.0 %
Pruned parameter:
Parameter pruning degree:  86.406 %
Training set accuracy： 99.4475138121547 %
Test set accuracy： 80.0 %
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;No pruning 的原&lt;code&gt;W1&lt;/code&gt;参数：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[[ 0.17652197 -0.06106679 -0.07412075 ... -0.14664018 -0.00927934
   0.06886687]
 [ 0.11185143 -0.06578853 -0.0011025  ...  0.08918518  0.07352842
  -0.00663041]
 [-0.10772029  0.03944582 -0.24708339 ...  0.0550951  -0.03051575
  -0.06339629]
 [-0.05884084  0.20572945  0.03835234 ...  0.16899935  0.02967805
   0.07047436]
 [ 0.04006457 -0.03186718  0.00984735 ...  0.01321126 -0.09708557
   0.21907507]]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;86.406%&lt;/code&gt;pruning后的&lt;code&gt;W1&lt;/code&gt;参数：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[[ 0.18168446  0.          0.         ...  0.          0.
   0.        ]
 [ 0.          0.          0.         ...  0.          0.
   0.        ]
 [-0.         -0.         -0.25039574 ... -0.         -0.
  -0.        ]
 [ 0.          0.20658655  0.         ...  0.16506836  0.
   0.        ]
 [-0.         -0.         -0.         ... -0.         -0.
   0.23942507]]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;原参数对测试图片进行预测：&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/01/03/4YToAjPKh5wO9kH.png&#34; alt=&#34;https://s2.loli.net/2023/01/03/4YToAjPKh5wO9kH.png&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;Accuracy: 26/27&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;剪枝后[&lt;code&gt;86.406%&lt;/code&gt;]：&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;5&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/01/03/UQH7gkdM3Ronm5X.png&#34; alt=&#34;https://s2.loli.net/2023/01/03/UQH7gkdM3Ronm5X.png&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;Accuracy: 25/27&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;修改→第一版的实验代码中验证模型的部分对数据集没用进行归一化处理，结果出现严重偏差，需要加上归一化&lt;/p&gt;
">Pruning[NISP'15] paper code reproduction</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://luserli.github.io/BesjWyTAl/"" data-c="
          &lt;p&gt;Created: February 11, 2023 04:32 AM&lt;br&gt;
Created by: Luser&lt;br&gt;
Type: MCU&lt;/p&gt;
&lt;p&gt;题目：&lt;a href=&#34;https://docs.qq.com/pdf/DSmhZT3hTbUpxYnBh&#34;&gt;【腾讯文档】2023综合测评模拟题&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;使用&lt;code&gt;multisim 14.2&lt;/code&gt;进行仿真设计，仿真文件下载：&lt;a href=&#34;https://www.aliyundrive.com/s/w3YZJjnPD3v&#34;&gt;2023综测模拟题(exe自解压格式)&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;前言&#34;&gt;前言&lt;/h2&gt;
&lt;p&gt;该设计中&lt;em&gt;VO&lt;/em&gt;1 ∼ &lt;em&gt;VO&lt;/em&gt;7 通过两个&lt;code&gt;LM324&lt;/code&gt;芯片，也即八个运放和电阻、电容、二极管来实现，&lt;em&gt;VO&lt;/em&gt;8 则使用到了五个运放来实现，故如果加上&lt;em&gt;VO&lt;/em&gt;8复合波，该设计总共使用了4块&lt;code&gt;LM324&lt;/code&gt;芯片。&lt;/p&gt;
&lt;h2 id=&#34;框架图&#34;&gt;框架图&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/01/12/1bPVnmoWTESHR3A.png&#34; alt=&#34;https://s2.loli.net/2023/01/12/1bPVnmoWTESHR3A.png&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;具体电路与参数选择&#34;&gt;具体电路与参数选择&lt;/h2&gt;
&lt;h3 id=&#34;lm324性能测试&#34;&gt;LM324性能测试&lt;/h3&gt;
&lt;p&gt;如图，连接单电源电路，分别给到运放条件 &lt;em&gt;V&lt;/em&gt;+(&lt;em&gt;VP&lt;/em&gt;) &amp;gt; &lt;em&gt;V&lt;/em&gt;−(&lt;em&gt;VN&lt;/em&gt;) 与 &lt;em&gt;V&lt;/em&gt;+ &amp;lt; &lt;em&gt;V&lt;/em&gt;− 得到如图所示运放输出电压分别为 10.6&lt;em&gt;V&lt;/em&gt; 与  − 0.561&lt;em&gt;V&lt;/em&gt; ，因为设计不使用稳压二极管的电路，所以这两个参数很重要。&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/01/12/GljBbZdmzLkSyRe.jpg&#34; alt=&#34;https://s2.loli.net/2023/01/12/GljBbZdmzLkSyRe.jpg&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;hr&gt;
&lt;h3 id=&#34;迟滞比较器与积分器组合电路&#34;&gt;迟滞比较器与积分器组合电路&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/01/12/OKF6YAReQmnWPs5.png&#34; alt=&#34;https://s2.loli.net/2023/01/12/OKF6YAReQmnWPs5.png&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;该电路由&lt;code&gt;U1A&lt;/code&gt;连接的迟滞比较器和&lt;code&gt;U1B&lt;/code&gt;连接的积分器联合组成，两者共用积分器部分的RC通路。&lt;/p&gt;
&lt;p&gt;易知其产生的方波与三角波的周期计算公式为 &lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;msub&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mn&gt;6&lt;/mn&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;msub&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mfrac&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;T=\frac{4R_1R_6C_1}{R_2}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.68333em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.13889em;&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.3335309999999998em;vertical-align:-0.44509999999999994em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen nulldelimiter&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8884309999999999em;&#34;&gt;&lt;span style=&#34;top:-2.655em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.00773em;&#34;&gt;R&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31731428571428577em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:-0.00773em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.23em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line&#34; style=&#34;border-bottom-width:0.04em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.4101em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.00773em;&#34;&gt;R&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31731428571428577em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:-0.00773em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.00773em;&#34;&gt;R&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31731428571428577em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:-0.00773em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;6&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.07153em;&#34;&gt;C&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31731428571428577em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:-0.07153em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.44509999999999994em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;，则其频率 有计算公式：&lt;/p&gt;
&lt;p class=&#39;katex-block&#39;&gt;&lt;span class=&#34;katex-display&#34;&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mfrac&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/mfrac&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mfrac&gt;&lt;msub&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mrow&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;msub&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mn&gt;6&lt;/mn&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;f=\frac{1}{T}=\frac{R_2}{4R_1R_6C_1}
&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.8888799999999999em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.10764em;&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:2.00744em;vertical-align:-0.686em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen nulldelimiter&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.32144em;&#34;&gt;&lt;span style=&#34;top:-2.314em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.13889em;&#34;&gt;T&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.23em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line&#34; style=&#34;border-bottom-width:0.04em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.677em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.686em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:2.19633em;vertical-align:-0.8360000000000001em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen nulldelimiter&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.36033em;&#34;&gt;&lt;span style=&#34;top:-2.3139999999999996em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.00773em;&#34;&gt;R&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.00773em;&#34;&gt;R&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;6&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.07153em;&#34;&gt;C&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.23em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line&#34; style=&#34;border-bottom-width:0.04em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.677em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.00773em;&#34;&gt;R&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8360000000000001em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;可知&lt;code&gt;U1A&lt;/code&gt;的输出端输出波形应为 &lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;V&lt;/mi&gt;&lt;mi&gt;O&lt;/mi&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;10.6&lt;/mn&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mi mathvariant=&#34;normal&#34;&gt; &lt;/mi&gt;&lt;mi&gt;V&lt;/mi&gt;&lt;mi&gt;O&lt;/mi&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;−&lt;/mi&gt;&lt;mn&gt;0.561&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;VOmax=10.6, VOmin=−0.561&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.68333em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.22222em;&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;O&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.8777699999999999em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.22222em;&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;O&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.72777em;vertical-align:-0.08333em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;−&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 的方波，故先定下产生波形的偏置值，&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;V&lt;/mi&gt;&lt;mi&gt;N&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;V&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;O&lt;/mi&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;V&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;O&lt;/mi&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/mfrac&gt;&lt;mo&gt;≈&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mi&gt;V&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;V_N=\frac{V_{Omax}+V_{Omin}}{2}\approx 5V&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.83333em;vertical-align:-0.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.22222em;&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.32833099999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.10903em;&#34;&gt;N&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.2336359999999997em;vertical-align:-0.345em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen nulldelimiter&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8886359999999999em;&#34;&gt;&lt;span style=&#34;top:-2.6550000000000002em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.23em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line&#34; style=&#34;border-bottom-width:0.04em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.410305em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.22222em;&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.3448em;&#34;&gt;&lt;span style=&#34;top:-2.3567071428571427em;margin-left:-0.22222em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.02778em;&#34;&gt;O&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;x&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.14329285714285717em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mbin mtight&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.22222em;&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.3448em;&#34;&gt;&lt;span style=&#34;top:-2.3567071428571427em;margin-left:-0.22222em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.02778em;&#34;&gt;O&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.14329285714285717em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.345em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;≈&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.68333em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.22222em;&#34;&gt;V&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; ，所以取&lt;code&gt;UO1&lt;/code&gt;与&lt;code&gt;UO2&lt;/code&gt;的偏置电压 &lt;em&gt;VAN&lt;/em&gt; = 5&lt;em&gt;V&lt;/em&gt;, &lt;em&gt;VBP&lt;/em&gt; = 5&lt;em&gt;V&lt;/em&gt; ，通过电阻分压来实现。&lt;/p&gt;
&lt;p&gt;接下来先计算如果需要得到&lt;em&gt;VPP&lt;/em&gt; = 5&lt;em&gt;V&lt;/em&gt;的三角波，迟滞比较器的&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mfrac&gt;&lt;msub&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mfrac&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;\frac{R_1}{R_2}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.3335309999999998em;vertical-align:-0.44509999999999994em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen nulldelimiter&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8884309999999999em;&#34;&gt;&lt;span style=&#34;top:-2.655em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.00773em;&#34;&gt;R&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31731428571428577em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:-0.00773em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.23em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line&#34; style=&#34;border-bottom-width:0.04em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.4101em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.00773em;&#34;&gt;R&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31731428571428577em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:-0.00773em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.44509999999999994em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;的值：&lt;/p&gt;
&lt;p&gt;由迟滞比较器的门限电压的计算方法可得:&lt;/p&gt;
&lt;p class=&#39;katex-block&#39;&gt;&lt;span class=&#34;katex-display&#34;&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;V&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;O&lt;/mi&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;V&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;O&lt;/mi&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;V&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;O&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mfrac&gt;&lt;msub&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;V&lt;/mi&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;V_{Omax}-(V_{Omax}-V_{O2})\frac{R_1}{R_1+R_2}=V_P
&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.83333em;vertical-align:-0.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.22222em;&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.32833099999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.02778em;&#34;&gt;O&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;x&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;−&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.22222em;&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.32833099999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.02778em;&#34;&gt;O&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;x&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;−&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:2.19633em;vertical-align:-0.8360000000000001em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.22222em;&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.32833099999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.02778em;&#34;&gt;O&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen nulldelimiter&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.36033em;&#34;&gt;&lt;span style=&#34;top:-2.3139999999999996em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.00773em;&#34;&gt;R&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.00773em;&#34;&gt;R&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.23em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line&#34; style=&#34;border-bottom-width:0.04em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.677em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.00773em;&#34;&gt;R&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8360000000000001em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.83333em;vertical-align:-0.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.22222em;&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.32833099999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.13889em;&#34;&gt;P&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;VOA&lt;/em&gt; = &lt;em&gt;VOmax&lt;/em&gt; 时，&lt;em&gt;VOA&lt;/em&gt; &amp;gt; &lt;em&gt;VBN&lt;/em&gt; = 5&lt;em&gt;V&lt;/em&gt;，故此时电流从&lt;em&gt;R&lt;/em&gt;6左侧流向&lt;em&gt;R&lt;/em&gt;6右侧，又由于运放虚短虚断特性，&lt;em&gt;VBN&lt;/em&gt; = 5&lt;em&gt;V&lt;/em&gt; ，对电容进行充电时，电容两侧电势差应增大，且&lt;em&gt;VBN&lt;/em&gt; &amp;gt; &lt;em&gt;VO&lt;/em&gt;2，故&lt;em&gt;VO&lt;/em&gt;2减小。&lt;/p&gt;
&lt;p&gt;可知，当&lt;em&gt;VO&lt;/em&gt;2减小至&lt;em&gt;VAP&lt;/em&gt; &amp;lt; &lt;em&gt;VAN&lt;/em&gt; = 5&lt;em&gt;V&lt;/em&gt;时，&lt;em&gt;VOA&lt;/em&gt;发生越变，&lt;em&gt;VOA&lt;/em&gt; = &lt;em&gt;VOmin&lt;/em&gt;。因为需要三角波&lt;em&gt;VPP&lt;/em&gt; = 5&lt;em&gt;V&lt;/em&gt;，且其偏置电压为5&lt;em&gt;V&lt;/em&gt;，故此时&lt;em&gt;VO&lt;/em&gt;2 = 2.5&lt;em&gt;V&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;则有&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;V&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;O&lt;/mi&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;V&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;O&lt;/mi&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;V&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;O&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mfrac&gt;&lt;msub&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;10.6&lt;/mn&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mn&gt;10.6&lt;/mn&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mn&gt;2.5&lt;/mn&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mfrac&gt;&lt;msub&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;V_{Omax}-(V_{Omax}-V_{O2})\frac{R_1}{R_1+R_2}=10.6-(10.6-2.5)\frac{R_1}{R_1+R_2}=5&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.83333em;vertical-align:-0.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.22222em;&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.32833099999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.02778em;&#34;&gt;O&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;x&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;−&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.22222em;&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.32833099999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.02778em;&#34;&gt;O&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;x&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;−&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.3335309999999998em;vertical-align:-0.44509999999999994em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.22222em;&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.32833099999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.02778em;&#34;&gt;O&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen nulldelimiter&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8884309999999999em;&#34;&gt;&lt;span style=&#34;top:-2.655em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.00773em;&#34;&gt;R&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31731428571428577em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:-0.00773em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mbin mtight&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.00773em;&#34;&gt;R&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31731428571428577em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:-0.00773em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.23em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line&#34; style=&#34;border-bottom-width:0.04em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.4101em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.00773em;&#34;&gt;R&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31731428571428577em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:-0.00773em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.44509999999999994em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.72777em;vertical-align:-0.08333em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;−&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;−&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.3335309999999998em;vertical-align:-0.44509999999999994em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen nulldelimiter&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8884309999999999em;&#34;&gt;&lt;span style=&#34;top:-2.655em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.00773em;&#34;&gt;R&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31731428571428577em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:-0.00773em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mbin mtight&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.00773em;&#34;&gt;R&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31731428571428577em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:-0.00773em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.23em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line&#34; style=&#34;border-bottom-width:0.04em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.4101em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.00773em;&#34;&gt;R&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31731428571428577em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:-0.00773em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.44509999999999994em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.64444em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;5&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;同理可得&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;V&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;O&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;V&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;O&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;V&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;O&lt;/mi&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mfrac&gt;&lt;msub&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;7.5&lt;/mn&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mn&gt;7.5&lt;/mn&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mn&gt;0.561&lt;/mn&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;mfrac&gt;&lt;msub&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;V_{O2}-(V_{O2}-V_{Omin})\frac{R_2}{R_1+R_2}=7.5-[7.5-(-0.561)]\frac{R_2}{R_1+R_2}=5&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.83333em;vertical-align:-0.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.22222em;&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.32833099999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.02778em;&#34;&gt;O&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;−&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.22222em;&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.32833099999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.02778em;&#34;&gt;O&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;−&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.3335309999999998em;vertical-align:-0.44509999999999994em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.22222em;&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.32833099999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.02778em;&#34;&gt;O&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen nulldelimiter&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8884309999999999em;&#34;&gt;&lt;span style=&#34;top:-2.655em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.00773em;&#34;&gt;R&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31731428571428577em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:-0.00773em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mbin mtight&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.00773em;&#34;&gt;R&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31731428571428577em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:-0.00773em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.23em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line&#34; style=&#34;border-bottom-width:0.04em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.4101em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.00773em;&#34;&gt;R&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31731428571428577em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:-0.00773em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.44509999999999994em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.72777em;vertical-align:-0.08333em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;−&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;−&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.3335309999999998em;vertical-align:-0.44509999999999994em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;−&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen nulldelimiter&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8884309999999999em;&#34;&gt;&lt;span style=&#34;top:-2.655em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.00773em;&#34;&gt;R&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31731428571428577em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:-0.00773em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mbin mtight&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.00773em;&#34;&gt;R&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31731428571428577em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:-0.00773em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.23em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line&#34; style=&#34;border-bottom-width:0.04em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.4101em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.00773em;&#34;&gt;R&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31731428571428577em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:-0.00773em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.44509999999999994em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.64444em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;5&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;则有&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mfrac&gt;&lt;msub&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mfrac&gt;&lt;mo&gt;≈&lt;/mo&gt;&lt;mfrac&gt;&lt;mn&gt;45&lt;/mn&gt;&lt;mn&gt;20&lt;/mn&gt;&lt;/mfrac&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;\frac{R_1}{R_2}\approx \frac{45}{20}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.3335309999999998em;vertical-align:-0.44509999999999994em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen nulldelimiter&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8884309999999999em;&#34;&gt;&lt;span style=&#34;top:-2.655em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.00773em;&#34;&gt;R&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31731428571428577em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:-0.00773em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.23em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line&#34; style=&#34;border-bottom-width:0.04em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.4101em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.00773em;&#34;&gt;R&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31731428571428577em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:-0.00773em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.44509999999999994em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;≈&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.190108em;vertical-align:-0.345em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen nulldelimiter&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.845108em;&#34;&gt;&lt;span style=&#34;top:-2.6550000000000002em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.23em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line&#34; style=&#34;border-bottom-width:0.04em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.394em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;5&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.345em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;，则取&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mi mathvariant=&#34;normal&#34;&gt; &lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi mathvariant=&#34;normal&#34;&gt; &lt;/mi&gt;&lt;mn&gt;45&lt;/mn&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;Ω&lt;/mi&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mi mathvariant=&#34;normal&#34;&gt; &lt;/mi&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mi mathvariant=&#34;normal&#34;&gt; &lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi mathvariant=&#34;normal&#34;&gt; &lt;/mi&gt;&lt;mn&gt;20&lt;/mn&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;Ω&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;R1 = 45kΩ, R2 = 20kΩ&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.68333em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.00773em;&#34;&gt;R&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.8888799999999999em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03148em;&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;Ω&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.00773em;&#34;&gt;R&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.69444em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03148em;&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;Ω&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;，实际测试时会有偏差，故需要自行按需添加偏置电阻，如图&lt;em&gt;R&lt;/em&gt;21。&lt;/p&gt;
&lt;p&gt;再由其频率计算公式就可得&lt;em&gt;R&lt;/em&gt;6 的取值范围，(直接取 &lt;em&gt;C&lt;/em&gt;1 = 1&lt;em&gt;uF&lt;/em&gt; 进行计算)。&lt;/p&gt;
&lt;p&gt;理想状态下，当&lt;em&gt;R&lt;/em&gt;6&lt;em&gt;L&lt;/em&gt; = 0时，&lt;em&gt;f&lt;/em&gt; = 400&lt;em&gt;Hz&lt;/em&gt;，当&lt;em&gt;R&lt;/em&gt;6&lt;em&gt;L&lt;/em&gt; = 27&lt;em&gt;kΩ&lt;/em&gt;时，&lt;em&gt;f&lt;/em&gt; = 20&lt;em&gt;Hz&lt;/em&gt;。调节&lt;em&gt;R&lt;/em&gt;6的值就可对方波和三角波的频率进行调节。&lt;/p&gt;
&lt;p&gt;&lt;em&gt;VO&lt;/em&gt;1的峰峰值则采用滑动变阻器分压的方案来达到&lt;em&gt;VPP&lt;/em&gt;可调来调整至&lt;em&gt;VPP&lt;/em&gt; = 9&lt;em&gt;V&lt;/em&gt;的状态，既图中的&lt;em&gt;R&lt;/em&gt;7。&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;em&gt;&lt;em&gt;VO&lt;/em&gt;4方波与&lt;/em&gt;VO&lt;/em&gt;5三角波的要求由该电路同样可得。**&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;文氏桥振荡电路&#34;&gt;文氏桥振荡电路&lt;/h3&gt;
&lt;p&gt;通过该电路产生正弦波，具体思路是通过计算RC通路的充放电时间，将&lt;em&gt;RL&lt;/em&gt;调节至最大与最小时刚好满足题中条件的频率最小和频率最大。再通过调节反馈通路的增益来调至适当参数，输出端也可通过滑动变阻器分压的方式来达到&lt;em&gt;VPP&lt;/em&gt;可调的目的。具体见仿真设计文件。&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;自举阶梯波产生电路与迟滞比较器&#34;&gt;自举阶梯波产生电路与迟滞比较器&lt;/h3&gt;
&lt;p&gt;自举阶梯波产生电路的原理可参照该文：&lt;a href=&#34;https://zhuanlan.zhihu.com/p/50535849&#34;&gt;阶梯波电压发生器 - 知乎 (zhihu.com)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;本设计通过&lt;strong&gt;迟滞比较器&lt;/strong&gt;判断电压输出阈值的方式来实现文中的复位部分。具体见仿真设计文件。&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;窗口比较器与单门限比较器&#34;&gt;窗口比较器与单门限比较器&lt;/h3&gt;
&lt;p&gt;由题中要求可知复合波的高电平分别是在阶梯波的&lt;code&gt;1、3、4、7、8、9&lt;/code&gt;阶时输出，故可以采用窗口比较器将输入为特定电压值时输出高电平或者低电平的作用来达到输出题中要求复合波的目的。&lt;/p&gt;
&lt;p&gt;测试中发现由于&lt;code&gt;LM324&lt;/code&gt;输出的最低电压是负数，所以在0~1阶时直接采用单门限的比较器将输入低于一阶电压时的输出置为0。具体见仿真设计文件。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;实验结果&#34;&gt;实验结果&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;XSC1&lt;/code&gt;中为&lt;em&gt;VO&lt;/em&gt;1、&lt;em&gt;VO&lt;/em&gt;2，&lt;code&gt;XSC2&lt;/code&gt;中为&lt;em&gt;VO&lt;/em&gt;3、&lt;em&gt;VO&lt;/em&gt;6，&lt;code&gt;XSC3&lt;/code&gt;中为&lt;em&gt;VO&lt;/em&gt;4、&lt;em&gt;VO&lt;/em&gt;5，&lt;code&gt;XSC6&lt;/code&gt;中为&lt;em&gt;VO&lt;/em&gt;7、&lt;em&gt;VO&lt;/em&gt;8。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;小Tips：阶梯波只有在示波器的直流模式下才能测出来，因为这实际上是一个电压阶段上升变化的过程。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/01/12/J74YjLzXdSgtpum.png&#34; alt=&#34;https://s2.loli.net/2023/01/12/J74YjLzXdSgtpum.png&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;小结&#34;&gt;小结&lt;/h2&gt;
&lt;p&gt;由于设计上没有使用稳压二极管，所以运放输出的电压值就需要进行较为精细的计算，有时输出波形的&lt;em&gt;VPP&lt;/em&gt;也需要使用电阻分压这种手段来确保维持在需要的值。&lt;/p&gt;
&lt;h2 id=&#34;附录&#34;&gt;附录&lt;/h2&gt;
&lt;h3 id=&#34;器件清单&#34;&gt;器件清单&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;原件名&lt;/th&gt;
&lt;th&gt;数量&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;直插式LM324芯片&lt;/td&gt;
&lt;td&gt;× 4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;10kΩ 滑动变阻器&lt;/td&gt;
&lt;td&gt;× 6&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;1uF 电容&lt;/td&gt;
&lt;td&gt;× 6&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;100pF ∼ 1000pF电容&lt;/td&gt;
&lt;td&gt;× n&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;1N4148 二极管&lt;/td&gt;
&lt;td&gt;× 7&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;120 ∼ 100KΩ电阻&lt;/td&gt;
&lt;td&gt;× n&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;洞洞板&lt;/td&gt;
&lt;td&gt;× 1&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
">多路信号发生器的Multisim仿真实现</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://luserli.github.io/golVHYplz/"" data-c="
          &lt;p&gt;Created: February 9, 2023 9:04 AM&lt;br&gt;
Created by: Luser&lt;br&gt;
Type: AI&lt;/p&gt;
&lt;h2 id=&#34;设计基于tensorflow-lite&#34;&gt;设计（基于&lt;code&gt;Tensorflow Lite&lt;/code&gt;）&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;数据收集&lt;/li&gt;
&lt;li&gt;划分数据集，得到训练集和测试集并打包成&lt;code&gt;h5&lt;/code&gt;格式的文件，方便调用，节省训练时间&lt;/li&gt;
&lt;li&gt;构建网络&lt;/li&gt;
&lt;li&gt;训练、保存模型&lt;/li&gt;
&lt;li&gt;对模型进行量化编码，使其能够部署到微控制器上，由于&lt;code&gt;openmv&lt;/code&gt;只能跑&lt;code&gt;int8&lt;/code&gt;模型，所以量化为&lt;code&gt;int8&lt;/code&gt;格式（量化的具体概念我会在稍后要写的一篇论文阅读笔记里做详细说明）&lt;/li&gt;
&lt;li&gt;将压缩好的模型部署到微控制器也就是&lt;code&gt;openmv&lt;/code&gt;上并实际测试。&lt;/li&gt;
&lt;li&gt;模型优化（后续再进行）&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;数据收集&#34;&gt;数据收集&lt;/h2&gt;
&lt;p&gt;直接使用&lt;code&gt;openmv&lt;/code&gt;的自带数据集收集功能进行采集，由于只是一次简单的测试实验，为了加快实验速度，我只采用了64 × 64格式大小的图片进行采集。具体操作如图，选中之后可以在任意位置新建一个文件夹再选择打开。&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/01/14/ahoMFs5EnOWIqvK.jpg&#34; alt=&#34;https://s2.loli.net/2023/01/14/ahoMFs5EnOWIqvK.jpg&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;由于我要建立的模型分辨的状态只有两种，也就是戴口罩和没戴口罩，所以我在数据集文件夹下新建两个名为&lt;code&gt;mask&lt;/code&gt;和&lt;code&gt;nonmask&lt;/code&gt;的文件夹，分别用来保存戴口罩和没戴口罩的图片。如图，openmv会自动生成如下，文件夹的&lt;code&gt;.class&lt;/code&gt;部分可以任意删除，因为我是自己建模型自己训练，并不需要它。&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/01/14/USVXs5CBDci68EJ.png&#34; alt=&#34;https://s2.loli.net/2023/01/14/USVXs5CBDci68EJ.png&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;连接&lt;code&gt;openmv&lt;/code&gt;，运行用来收集数据的例程，将带口罩的不戴口罩的图片分别存储在两个文件夹中，注意我只需要收集64 × 64格式大小的图片，所以修改一下例程拍摄的图片格式为&lt;code&gt;B64X64&lt;/code&gt;：&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/01/14/MsWx9EtYrgnfdmj.png&#34; alt=&#34;https://s2.loli.net/2023/01/14/MsWx9EtYrgnfdmj.png&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;我各拍摄了两百张我戴口罩和没戴口罩的照片用于训练和测试，需要说明的是因为数据集里只有我的照片并且场景也没有切换，这个网络模型对其它场景和其他人的分类效果基本没有。如果想要提高网络的分类能力肯定是需要采集不同场景下不同人物的大量的数据的。当然这里只是实现思路，关系不大。&lt;/p&gt;
&lt;h2 id=&#34;划分数据集&#34;&gt;划分数据集&lt;/h2&gt;
&lt;p&gt;划分数据集的方案我在半年前初学深度学习的时候就有了解过，当时还是用爬虫爬网上的数据然后来训练。我就直接把当时的代码改改直接拿来用了：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import os
from PIL import Image
import numpy as np
import h5py

def get_files(file_dir):
        mask = []
        label_mask = []
        nonmask = []
        label_nonmask = []

        
        for file in os.listdir(file_dir+&#39;mask&#39;):
                mask.append(file_dir +&#39;mask&#39;+&#39;/&#39;+ file) 
                label_mask.append(1)     #添加标签

        for file in os.listdir(file_dir+&#39;nonmask&#39;):
                nonmask.append(file_dir +&#39;nonmask&#39;+&#39;/&#39;+file)
                label_nonmask.append(0)

                
        #把所有数据集进行合并
        image_list = np.hstack((mask, nonmask))
        label_list = np.hstack((label_mask, label_nonmask))
    
        #利用shuffle打乱顺序
        temp = np.array([image_list, label_list])
        temp = temp.transpose()
        np.random.shuffle(temp)
    
        #从打乱的temp中再取出list（img和lab）
        image_list = list(temp[:, 0])
        label_list = list(temp[:, 1])
        label_list = [int(i) for i in label_list] 
        
        return  image_list,label_list
        #返回两个list 分别为图片文件名及其标签  顺序已被打乱

train_dir = &#39;&#39;
image_list,label_list = get_files(train_dir) #赋值

imgsize = [64, 64]
shape1 = imgsize[0]
shape2 = imgsize[1]

#划分训练和测试
Train_image =  np.random.rand(len(image_list)-60, shape1, shape2, 3).astype(&#39;float32&#39;)#维度为(m_train，num_px1，num_px2，3)的numpy数组
Train_label = np.random.rand(len(image_list)-60, 1).astype(&#39;float32&#39;)#维度为(m_train，1)的numpy数组
    
Test_image =  np.random.rand(60, shape1, shape2, 3).astype(&#39;float32&#39;)#维度为(m_test，num_px1，num_px2，3)的numpy数组
Test_label = np.random.rand(60, 1).astype(&#39;float32&#39;)#维度为(m_test，1)的numpy数组
    
for i in range(len(image_list)-60):
    train_img = Image.open(image_list[i]).convert(&amp;quot;RGB&amp;quot;).resize((shape2, shape1))#加载图片，将图片转为RGB三通道图片，将图片压缩为shape2×shape1的图片
    Train_image[i] = np.array(train_img)
    Train_label[i] = np.array(label_list[i])
    
for i in range(len(image_list)-60, len(image_list)):
    test_img = Image.open(image_list[i]).convert(&amp;quot;RGB&amp;quot;).resize((shape2, shape1))
    Test_image[i+28-len(image_list)] = np.array(test_img)
    Test_label[i+28-len(image_list)] = np.array(label_list[i])

#写入为h5
f = h5py.File(&#39;maskvnonmask.h5&#39;, &#39;w&#39;)
f.create_dataset(&#39;X_train&#39;, data=Train_image)
f.create_dataset(&#39;y_train&#39;, data=Train_label)
f.create_dataset(&#39;X_test&#39;, data=Test_image)
f.create_dataset(&#39;y_test&#39;, data=Test_label)
f.close()
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;其实就是一点文件和图像处理的操作，最后得到的X维度和Y维度能够和自己的网络模型对的上就好了，我也写了很多注释，就不多加赘述了。&lt;/p&gt;
&lt;h2 id=&#34;构建网络模型&#34;&gt;构建网络模型&lt;/h2&gt;
&lt;p&gt;先编写加载数据集的函数：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;def load_files():
    train_dataset = h5py.File(&#39;dataset/maskvnonmask.h5&#39;, &#39;r&#39;)
    
    train_set_x_orig = np.array(train_dataset[&#39;X_train&#39;][:]) #  train set features
    train_set_y_orig = np.array(train_dataset[&#39;y_train&#39;][:]).T #  train set labels

    test_set_x_orig = np.array(train_dataset[&#39;X_test&#39;][:]) #  train set features
    test_set_y_orig = np.array(train_dataset[&#39;y_test&#39;][:]).T #  train set labels
    
    train_dataset.close()
    train_set_y_orig = train_set_y_orig.reshape((train_set_y_orig.shape[1], 1))
    test_set_y_orig = test_set_y_orig.reshape((test_set_y_orig.shape[1], 1))

    return train_set_x_orig, train_set_y_orig, test_set_x_orig, test_set_y_orig
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;然后是定义图片种类数、输入维度、加载数据集、标准化、转换为二进制矩阵&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;num_classes = 2
input_shape = (64, 64, 3)

# load datasets
x_train, y_train, x_test, y_test = load_files()

# Scale images to the [0, 1] range
x_train = x_train.astype(&amp;quot;float32&amp;quot;) / 255
x_test = x_test.astype(&amp;quot;float32&amp;quot;) / 255
print(&amp;quot;x_train shape:&amp;quot;, x_train.shape)
print(x_train.shape[0], &amp;quot;train samples&amp;quot;)
print(x_test.shape[0], &amp;quot;test samples&amp;quot;)

# convert class vectors to binary class matrices
y_train = keras.utils.to_categorical(y_train, num_classes)
y_test = keras.utils.to_categorical(y_test, num_classes)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;接着构建网络结构&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;model = keras.Sequential(
    [
        keras.Input(shape=input_shape),
        layers.Conv2D(32, kernel_size=(3, 3), activation=&amp;quot;relu&amp;quot;),
        layers.MaxPooling2D(pool_size=(2, 2)),
        layers.Conv2D(64, kernel_size=(3, 3), activation=&amp;quot;relu&amp;quot;),
        layers.MaxPooling2D(pool_size=(2, 2)),
        layers.Flatten(),
        layers.Dropout(0.5),
        layers.Dense(num_classes, activation=&amp;quot;softmax&amp;quot;),
    ]
)

model.summary()
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;训练-保存模型&#34;&gt;训练、保存模型&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;batch_size = 4
epochs = 15

model.compile(loss=&amp;quot;categorical_crossentropy&amp;quot;, optimizer=&amp;quot;adam&amp;quot;, metrics=[&amp;quot;accuracy&amp;quot;])

model.fit(x_train, y_train, batch_size=batch_size, epochs=epochs, validation_split=0.1)

#测试模型
model.evaluate(x_test, y_test)

#keras保存模型
model.save(&#39;model/h5/maskvnonmask.h5&#39;)

# tensorflow模型保存
save_path = &amp;quot;model/pbpath&amp;quot;#pb模型保存路径
model.save(save_path)
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;模型量化&#34;&gt;模型量化&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;train_images = x_train
train_images.shape[2]

#int8量化
def representative_data_gen():
    for image in train_images[0:100,:,:]:
        yield[image.reshape(-1,train_images.shape[1],train_images.shape[2],3).astype(&amp;quot;float32&amp;quot;)]
 
converter = tf.lite.TFLiteConverter.from_keras_model(model)
converter.optimizations = [tf.lite.Optimize.DEFAULT]
converter.representative_dataset = representative_data_gen
 
# 确保量化操作不支持时抛出异常
converter.target_spec.supported_ops = [tf.lite.OpsSet.TFLITE_BUILTINS_INT8]
# 设置输入输出张量为uint8格式
converter.inference_input_type = tf.int8 #or unit8
converter.inference_output_type = tf.int8 #or unit8
 
tflite_model_quant = converter.convert()
#保存转换后的模型
FullInt_name = &amp;quot;model/maskvnonmask.tflite&amp;quot;
open(FullInt_name, &amp;quot;wb&amp;quot;).write(tflite_model_quant)
 
#查看输入输出类型
interpreter = tf.lite.Interpreter(model_content=tflite_model_quant)
input_type = interpreter.get_input_details()[0][&#39;dtype&#39;]
print(&#39;input: &#39;, input_type)
output_type = interpreter.get_output_details()[0][&#39;dtype&#39;]
print(&#39;output: &#39;, output_type)
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;模型部署&#34;&gt;模型部署&lt;/h2&gt;
&lt;p&gt;将上述步骤得到的&lt;code&gt;maskvnonmask.tflite&lt;/code&gt;模型文件和&lt;code&gt;openmv&lt;/code&gt;自行生成的&lt;code&gt;labels.txt&lt;/code&gt;标签文件都放到&lt;code&gt;openmv&lt;/code&gt;的SD卡里，编写程序调用模型。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;labels.txt&lt;/code&gt;文件内容如下&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/01/14/sYtHehwECQmcfr9.png&#34; alt=&#34;https://s2.loli.net/2023/01/14/sYtHehwECQmcfr9.png&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;&lt;code&gt;openmv&lt;/code&gt;运行程序：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# Edge Impulse - OpenMV Image Classification Example

import sensor, image, time, os, tf

sensor.reset()                         # Reset and initialize the sensor.
sensor.set_pixformat(sensor.RGB565)    # Set pixel format to RGB565 (or GRAYSCALE)
sensor.set_framesize(sensor.B64X64)      # Set frame size to QVGA (320x240)
sensor.set_windowing((240, 240))       # Set 240x240 window.
sensor.skip_frames(time=2000)          # Let the camera adjust.

net = &amp;quot;maskvnonmask.tflite&amp;quot;
labels = [line.rstrip(&#39;\n&#39;) for line in open(&amp;quot;labels.txt&amp;quot;)]

clock = time.clock()
while(True):
    clock.tick()

    img = sensor.snapshot()

    # default settings just do one detection... change them to search the image...
    for obj in tf.classify(net, img, min_scale=1.0, scale_mul=0.8, x_overlap=0.5, y_overlap=0.5):
        print(&amp;quot;**********\nPredictions at [x=%d,y=%d,w=%d,h=%d]&amp;quot; % obj.rect())
        img.draw_rectangle(obj.rect())
        # This combines the labels and confidence values into a list of tuples
        predictions_list = list(zip(labels, obj.output()))

        for i in range(len(predictions_list)):
            if predictions_list[i][1]&amp;gt;0.8:
                print(predictions_list[i][0])

    print(clock.fps(), &amp;quot;fps&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;这是直接拿Edge官方生成的调用模型的程序改来的。&lt;/p&gt;
&lt;p&gt;注意因为我训练的模型输入是64 × 64格式大小的图片，所以在最后测试的时候也必须是拍摄这个格式的视频和图片。&lt;/p&gt;
&lt;p&gt;最后看我的测试效果：（动图加载可能需要时间）&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;5&#34;&gt;&lt;img src=&#34;https://link.jscdn.cn/1drv/aHR0cHM6Ly8xZHJ2Lm1zL3UvcyFBcXI1azFWc1V0WUZpMXdncU1VTUtDVGRsd2xmP2U9YmlMTmN6.gif&#34; alt=&#34;https://link.jscdn.cn/1drv/aHR0cHM6Ly8xZHJ2Lm1zL3UvcyFBcXI1azFWc1V0WUZpMXdncU1VTUtDVGRsd2xmP2U9YmlMTmN6.gif&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;识别到佩戴口罩时&lt;code&gt;terminal&lt;/code&gt;中打印&lt;code&gt;mask&lt;/code&gt;，未佩戴则打印&lt;code&gt;nonmask&lt;/code&gt; 可见预测结果还是相当准确的。&lt;/p&gt;
&lt;p&gt;如下是其量化前后的模型大小变化：&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;6&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/01/14/2TAhfIvtw6nae5R.png&#34; alt=&#34;https://s2.loli.net/2023/01/14/2TAhfIvtw6nae5R.png&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;7&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/01/14/dj9IFpuLHiRQbmV.jpg&#34; alt=&#34;https://s2.loli.net/2023/01/14/dj9IFpuLHiRQbmV.jpg&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
">openmv上的TinyML实现--识别是否配戴口罩</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://luserli.github.io/9mVzhwbAP/"" data-c="
          &lt;p&gt;Created: February 9, 2023 9:03 AM&lt;br&gt;
Created by: Luser&lt;br&gt;
Type: AI&lt;/p&gt;
&lt;p&gt;&lt;code&gt;openmv&lt;/code&gt;是什么以及&lt;code&gt;Openmv IDE&lt;/code&gt;的安装与使用这里就不多加赘述。下面直接通过例程对&lt;code&gt;openmv cam&lt;/code&gt;特定的函数库进行学习。&lt;/p&gt;
&lt;p&gt;因为只是为了电赛做准备进行学习的笔记，所以很多例程和代码并不会进行深究。&lt;/p&gt;
&lt;h2 id=&#34;例程理解&#34;&gt;例程理解&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# 色块监测 例子
#
# 这个例子展示了如何通过find_blobs()函数来查找图像中的色块
# 这个例子查找的颜色是深绿色

import sensor, image, time

# 颜色追踪的例子，一定要控制环境的光，保持光线是稳定的。
green_threshold   = (   0,   80,  -70,   -10,   -0,   30)
#设置绿色的阈值，括号里面的数值分别是L A B 的最大值和最小值（minL, maxL, minA,
# maxA, minB, maxB），LAB的值在图像左侧三个坐标图中选取。如果是灰度图，则只需
#设置（min, max）两个数字即可。

sensor.reset() # 初始化摄像头
sensor.set_pixformat(sensor.RGB565) # 格式为 RGB565.
sensor.set_framesize(sensor.QQVGA) # 使用 QQVGA 速度快一些
sensor.skip_frames(time = 2000) # 跳过2000s，使新设置生效,并自动调节白平衡
sensor.set_auto_gain(False) # 关闭自动自动增益。默认开启的，在颜色识别中，一定要关闭白平衡。
sensor.set_auto_whitebal(False)
#关闭白平衡。白平衡是默认开启的，在颜色识别中，一定要关闭白平衡。
clock = time.clock() # 追踪帧率

while(True):
    clock.tick() # Track elapsed milliseconds between snapshots().
    img = sensor.snapshot() # 从感光芯片获得一张图像

    blobs = img.find_blobs([green_threshold])
    #find_blobs(thresholds, invert=False, roi=Auto),thresholds为颜色阈值，
    #是一个元组，需要用括号［ ］括起来。invert=1,反转颜色阈值，invert=False默认
    #不反转。roi设置颜色识别的视野区域，roi是一个元组， roi = (x, y, w, h)，代表
    #从左上顶点(x,y)开始的宽为w高为h的矩形区域，roi不设置的话默认为整个图像视野。
    #这个函数返回一个列表，[0]代表识别到的目标颜色区域左上顶点的x坐标，［1］代表
    #左上顶点y坐标，［2］代表目标区域的宽，［3］代表目标区域的高，［4］代表目标
    #区域像素点的个数，［5］代表目标区域的中心点x坐标，［6］代表目标区域中心点y坐标，
    #［7］代表目标颜色区域的旋转角度（是弧度值，浮点型，列表其他元素是整型），
    #［8］代表与此目标区域交叉的目标个数，［9］代表颜色的编号（它可以用来分辨这个
    #区域是用哪个颜色阈值threshold识别出来的）。
    if blobs:
    #如果找到了目标颜色
        for b in blobs:
        #迭代找到的目标颜色区域
            # Draw a rect around the blob.
            img.draw_rectangle(b[0:4]) # rect
            #用矩形标记出目标颜色区域
            img.draw_cross(b[5], b[6]) # cx, cy
            #在目标颜色区域的中心画十字形标记

    print(clock.fps()) # 注意: 你的OpenMV连到电脑后帧率大概为原来的一半
    #如果断开电脑，帧率会增加
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;可以一边读这个文件的编程思路，一边翻阅对应的函数功能来加深理解，参考：&lt;a href=&#34;https://docs.singtown.com/micropython/zh/latest/openmvcam/library/index.html&#34;&gt;MicroPython 函数库 — MicroPython 1.9.2 文档 (singtown.com)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;上面这个程序可以实现对绿色物体的追踪效果，如果需要实现对其它颜色物体的追踪，只需要修改程序第九行中的LAB的各项阈值就可以了。&lt;/p&gt;
&lt;p&gt;关于LAB值的了解：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;L：表示颜色的明亮度，正数表示偏白，负数表示偏黑。&lt;/li&gt;
&lt;li&gt;A：表示红绿值，正数表示偏红，负数表示偏绿。&lt;/li&gt;
&lt;li&gt;B：表示黄蓝值，正数表示偏黄，负数表示偏蓝。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;所以如果想要对红色物体追踪只要进行如下修改&lt;/p&gt;
&lt;p&gt;将&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;green_threshold   = (   0,   80,  -70,   -10,   -0,   30)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;改为&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;green_threshold   = (   0,   80,  10,   70,   -0,   30)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;就可实现对红色物块进行追踪。&lt;/p&gt;
&lt;p&gt;对其流程进行整理：&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/01/14/5vRJYqXgBIuSk1o.png&#34; alt=&#34;https://s2.loli.net/2023/01/14/5vRJYqXgBIuSk1o.png&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;其中第一、二步先后顺序任意。&lt;/p&gt;
&lt;p&gt;想要获得我们想要追踪的那个物体的各项阈值，则需要在&lt;code&gt;openmv IDE&lt;/code&gt;的&lt;code&gt;framebuffer&lt;/code&gt;下面的坐标图中，选择&lt;code&gt;LAB Color Space&lt;/code&gt;模式，&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://book.openmv.cc/assets/02-019.jpg&#34; alt=&#34;https://book.openmv.cc/assets/02-019.jpg&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;然后在&lt;code&gt;framebuffer&lt;/code&gt;中的目标颜色上左击圈出一个矩形，就会得到如图三个坐标图&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://book.openmv.cc/assets/02-020.jpg&#34; alt=&#34;https://book.openmv.cc/assets/02-020.jpg&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;三个坐标图分别表示圈出的矩形区域内的颜色的LAB值，选取三个坐标图的最大最小值，即( 0, 60, -70, -10, -0, 30)。&lt;/p&gt;
&lt;p&gt;另一个方法就是通过调用&lt;code&gt;Tools -&amp;gt; Machine Vision -&amp;gt; Threshold Editor -&amp;gt; Frame Buffer&lt;/code&gt;这个工具，自行调节阈值直到图像中只剩目标物体显示为白色为止。此时就可直接复制其阈值进行判断就好了。如图：&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/01/14/mBnhEZ2SjU3ai9v.png&#34; alt=&#34;https://s2.loli.net/2023/01/14/mBnhEZ2SjU3ai9v.png&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;在使用&lt;code&gt;img.find_blobs&lt;/code&gt;函数查找色块时可以添加&lt;code&gt;area_threshold&lt;/code&gt;参数来限制选入的色块大小，也即色块面积小于&lt;code&gt;area_threshold&lt;/code&gt;值的目标色物块会被过滤掉。&lt;/p&gt;
&lt;h2 id=&#34;idea&#34;&gt;idea&lt;/h2&gt;
&lt;p&gt;上面是一个最简单色块识别和追踪的例程，我目前能想到的应用就是通过特定色块的物体，返回其位置信息给到小车主控芯片，让小车按照不同信息去做出不同的动作。&lt;/p&gt;
&lt;p&gt;下面做一个假设，如果小车和物块都在二维平面内，小车可移动，物块不移动，小车无非两个目的，碰撞物块或者避开物块。&lt;/p&gt;
&lt;p&gt;若将摄像头平置与小车正前方，可知此时物块对于小车的位置只有三种，也即正前，左前，右前。&lt;/p&gt;
&lt;p&gt;可将&lt;code&gt;openmv&lt;/code&gt;返回的信息分为1个含有正负数的区间，例如&lt;code&gt;[-10, 10]&lt;/code&gt; ，物块位于小车正前方时输出信号为零，在小车左前输出信号为负数，右前方输出信号为正数，按照左右的偏移度返回相应大小的数值。可以将信号分为10&lt;sub&gt;20段，也就是可以输出10&lt;/sub&gt;20种信号给小车主控芯片，小车主控芯片只需要使用&lt;code&gt;switch&lt;/code&gt;来执行对应动作即可。&lt;/p&gt;
&lt;p&gt;至于离小车前方为多少距离时进行判断则是借助前文提到的&lt;code&gt;area_threshold&lt;/code&gt;参数来指定进入特定距离后执行操作。&lt;/p&gt;
&lt;p&gt;当然，需要进行识别的时候情况往往是比较复杂的，需要考虑其它环境因素，可能只有在追踪物体的时候可以发挥作用，所以这种方式大概是没什么作用的。&lt;/p&gt;
&lt;p&gt;此外，有看到关于WIFI图传、模板匹配、人脸识别、形状识别、分辨不同人脸之类的例程，个人感觉不太需要，首先说模板匹配、人脸识别，模板识别是我觉得最不靠谱的一个例程，这个玩意儿受外界影响太大了，很容易就识别不出来，要是比赛的时候一个没弄好就直接寄了，人脸识别所以准确度可以，但是在小车上的应用可能不太行。个人偏向于通过&lt;code&gt;openmv&lt;/code&gt;的&lt;code&gt;TinyML&lt;/code&gt;实现，这才是这个玩意儿真的能够起到作用的地方，所以重点学习方向应该放在openmv上的神经网络模型部署上才对。&lt;/p&gt;
&lt;p&gt;所以目前需要学习并解决的问题有两方面的：一是通过&lt;code&gt;opoenmv&lt;/code&gt;自带的IO口对主控芯片进行信号传输的方案，二是部署自定义神经网络模型的解决方案，在网上了解到&lt;code&gt;tensorflow lite&lt;/code&gt;已经在&lt;code&gt;openmv&lt;/code&gt;上有了比较完善的部署流程，通过在线的部署平台基本可以做到神经网络小白也可以实现部署自定义模型。&lt;/p&gt;
&lt;p&gt;官网上的教程只需要使用&lt;code&gt;openmv&lt;/code&gt;收集数据集，然后将数据集上传到在线的网站就可以完成训练过程。&lt;/p&gt;
&lt;p&gt;但我并不满足于此，在&lt;code&gt;openmv&lt;/code&gt;上部署神经网络很显然是属于一个&lt;code&gt;TinyML&lt;/code&gt;项目，如果只运用已成熟的商业工具显然并不能对其深入了解，考虑到&lt;code&gt;openmv&lt;/code&gt;本身已经支持&lt;code&gt;tensorflow lite&lt;/code&gt;模型，我打算自己动手实现数据收集、模型构建、训练模型、模型量化、部署模型这一系列步骤。&lt;/p&gt;
">openmv学习笔记[V1]</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://luserli.github.io/o9mSQG5xY/"" data-c="
          &lt;p&gt;Created: January 18, 2023 10:35 AM&lt;br&gt;
Created by: Luser&lt;br&gt;
Type: 硬件&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;原题：&lt;/strong&gt;&lt;/em&gt;&lt;a href=&#34;https://docs.qq.com/pdf/DSmFBckZza3ltZURB&#34;&gt;“杰创杯”2018年赛题&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;所有仿真实验电路:&lt;/strong&gt;&lt;/em&gt; &lt;a href=&#34;https://luser.notion.site/circuits-5bc0855f1c4c46bd845b19e7d79d4e4e?pvs=4&#34;&gt;circuits&lt;/a&gt;&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/02/05/GVerpPdblDQNwfT.png&#34; alt=&#34;https://s2.loli.net/2023/02/05/GVerpPdblDQNwfT.png&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;题目要求变动&#34;&gt;题目要求变动&lt;/h2&gt;
&lt;p&gt;由于&lt;code&gt;Proteus&lt;/code&gt;仿真软件的限制，对题目要求做出如下变动：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;触摸开关改为按键开关；&lt;/li&gt;
&lt;li&gt;取消红外遥控发射部分；&lt;/li&gt;
&lt;li&gt;电机停转时可以有一个&lt;code&gt;LED&lt;/code&gt;灯常亮。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;直流稳压电路的基本认知&#34;&gt;直流稳压电路的基本认知&lt;/h2&gt;
&lt;h3 id=&#34;变压器-整流电路&#34;&gt;变压器、整流电路&lt;/h3&gt;
&lt;h3 id=&#34;半波整流&#34;&gt;半波整流&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/01/18/3pqUhwOHbjGIJXm.png&#34; alt=&#34;图一：半波整流及其波形图&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;图一：半波整流及其波形图&lt;/p&gt;
&lt;h3 id=&#34;桥式整流&#34;&gt;桥式整流&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/01/18/trNgk6YTFfPyLQ7.png&#34; alt=&#34;图二：桥式整流及其波形图&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;图二：桥式整流及其波形图&lt;/p&gt;
&lt;h3 id=&#34;直流稳压电路的基础认知及其注意事项的说明&#34;&gt;直流稳压电路的基础认知及其注意事项的说明&lt;/h3&gt;
&lt;p&gt;[transformer.pdsprj]&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/01/19/puiXWOZ3aFfAl9m.png&#34; alt=&#34;图三：直流稳压电路图&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;图三：直流稳压电路图&lt;/p&gt;
&lt;h3 id=&#34;lm78xx-lm79xx系列与lm317及其电路&#34;&gt;LM78xx、LM79xx系列与LM317及其电路&lt;/h3&gt;
&lt;p&gt;见 &lt;a href=&#34;https://docs.qq.com/pdf/DSnR4Sk54Q1VobGlt&#34;&gt;省赛资料相关部分&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;ne555构成的脉冲和单稳态电路&#34;&gt;NE555构成的脉冲和单稳态电路&lt;/h2&gt;
&lt;h3 id=&#34;脉冲振荡电路&#34;&gt;脉冲振荡电路&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://docs.qq.com/pdf/DSk1ZVUJZVWVib1hX&#34;&gt;Electronic_organ_NE555&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[Square_wave_NE555.pdsprj]&lt;img src=&#34;https://s2.loli.net/2023/01/18/yQLrzKPJ8a3WFom.png&#34; alt=&#34;图四：NE555脉冲振荡电路&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;p&gt;图四：NE555脉冲振荡电路&lt;/p&gt;
&lt;h3 id=&#34;单稳态电路&#34;&gt;单稳态电路&lt;/h3&gt;
&lt;p&gt;[Monostable_circuit_NE555.pdsprj]&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;5&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/01/18/W18uwd6AUI9KLNY.png&#34; alt=&#34;图五：NE555单稳态电路&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;图五：NE555单稳态电路&lt;/p&gt;
&lt;h2 id=&#34;基础逻辑门电路&#34;&gt;基础逻辑门电路&lt;/h2&gt;
&lt;p&gt;[logic_gates.pdsprj]&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;6&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/01/18/EtW5V3inbAOap7m.png&#34; alt=&#34;图六：基本逻辑门&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;图六：基本逻辑门&lt;/p&gt;
&lt;h3 id=&#34;与非门构建的脉冲振荡电路&#34;&gt;与非门构建的脉冲振荡电路&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;7&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/01/18/23GvQR4iwD5VqSc.png&#34; alt=&#34;图七：4011与非门脉冲振荡电路&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;图七：4011与非门脉冲振荡电路&lt;/p&gt;
&lt;p class=&#39;katex-block&#39;&gt;&lt;span class=&#34;katex-display&#34;&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mfrac&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/mfrac&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mfrac&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mrow&gt;&lt;mn&gt;2.2&lt;/mn&gt;&lt;msub&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;f=\frac{1}{T}=\frac{1}{2.2R_2C_1}
&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.8888799999999999em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.10764em;&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:2.00744em;vertical-align:-0.686em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen nulldelimiter&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.32144em;&#34;&gt;&lt;span style=&#34;top:-2.314em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.13889em;&#34;&gt;T&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.23em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line&#34; style=&#34;border-bottom-width:0.04em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.677em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.686em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:2.1574400000000002em;vertical-align:-0.8360000000000001em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen nulldelimiter&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.32144em;&#34;&gt;&lt;span style=&#34;top:-2.3139999999999996em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.00773em;&#34;&gt;R&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.07153em;&#34;&gt;C&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.23em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line&#34; style=&#34;border-bottom-width:0.04em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.677em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8360000000000001em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;[wave_NAND.pdsprj]&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;8&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/01/18/CevPcXypREuT5zD.png&#34; alt=&#34;图八：与非门振荡电路在Proteus中的Debug&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;图八：与非门振荡电路在Proteus中的Debug&lt;/p&gt;
&lt;h2 id=&#34;cd4017-cd4511-cd4053&#34;&gt;CD4017、CD4511、CD4053&lt;/h2&gt;
&lt;p&gt;略&lt;/p&gt;
&lt;h2 id=&#34;设计思路与系统框图&#34;&gt;设计思路与系统框图&lt;/h2&gt;
&lt;h3 id=&#34;系统框架图&#34;&gt;系统框架图&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;9&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/01/23/M3IqaE7vin4G8FC.png&#34; alt=&#34;图九：系统框架图&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;图九：系统框架图&lt;/p&gt;
&lt;h3 id=&#34;实现反方向循环亮的简要说明&#34;&gt;实现反方向循环亮的简要说明&lt;/h3&gt;
&lt;p&gt;[LED_run.pdsprj]&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;10&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/01/18/uKdRjg9zJc8DBIO.png&#34; alt=&#34;图十：三灯循环亮灭&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;图十：三灯循环亮灭&lt;/p&gt;
&lt;h2 id=&#34;红外遥控部分&#34;&gt;&lt;strong&gt;红外遥控部分&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;[signal transmission.pdsprj]&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;11&#34;&gt;&lt;img src=&#34;https://s2.loli.net/2023/01/23/dtQzJSLuXWa2mbP.png&#34; alt=&#34;图十一：signal transmission&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;图十一：signal transmission&lt;/p&gt;
&lt;h2 id=&#34;总结&#34;&gt;总结&lt;/h2&gt;
&lt;p&gt;本次实验只要求设计实现题目的部分内容，相对简单很多，红外部分的要求因为proteus的限制没有做仿真实现的探讨，但也需要有所了解。&lt;/p&gt;
&lt;p&gt;基础的数码管控制显示电路是需要优先设计和焊接的，流程也是最为简单和死板的，是必须拿下的部分。&lt;/p&gt;
&lt;p&gt;对于状态转换功能的实现需要一点巧思。&lt;/p&gt;
&lt;p&gt;红外遥控部分需要对信号处理的知识有一定了解。&lt;/p&gt;
">三相步进电机控制驱动器仿真</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://luserli.github.io/about/"" data-c="
          &lt;p&gt;Hello~&lt;br&gt;
Luck.&lt;/p&gt;
&lt;!-- more --&gt;
">About</a>
      </div>
      
    </div>
    <div class="page">
      <div id="page_ul"></div>
    </div>
  </div>
</div>
<script>
  !function () {
    let searchMask = document.querySelector('#search_mask');
    let result = document.querySelector('#result');
    let items = document.querySelectorAll('.item');
    let searchBox = document.querySelector('#search');
    let statCount = document.querySelector('#stat_count');
    let statTimes = document.querySelector('#stat_times');
    let pageUl = document.querySelector('#page_ul');
    let close = document.querySelector('#close');
    
    close.addEventListener('click', function() {
      searchMask.style = 'display: none;'
    })

    let finds = [];
    let contents = [];
    let pageSize = 10;
    items.forEach(item => {
      let a = item.querySelector('a');
      contents.push({
        title: a.innerText,
        details: a.dataset.c,
        link: a.href
      })
      item.remove();
    })

    function insertStr(soure, start, count) {
      let newStr = soure.substr(start, count);
      return soure.slice(0, start) + '<em>' + newStr + '</em>' + soure.slice(start + count);
    }

    pageUl.addEventListener('click', function(event) {
      let target = event.target;
      if (target.__proto__ === HTMLSpanElement.prototype) {
        appendResults(parseInt(target.dataset.i));
      }
    })

    function appendResults(index) {
      let htmlResult = '';
      let start = index || 0;
      let end = Math.min(start + pageSize, finds.length);
      for (let i = start; i < end; i++) {
        const current = finds[i];
        let html = current.title;
        let sum = 0;
        let positions = current.positions;
        positions.forEach(position => {
          html = insertStr(html, position.start + sum, position.count);
          sum += 9;
        })
        htmlResult += `<div class="item"><a class="result-title" href="${current.link}">${html}</a></div>`;
      }
      result.innerHTML = htmlResult;
      pageUl.innerHTML = '';
      let count = finds.length / pageSize;
      let lis = '';
      if (start !== 0) {
        lis += `<span class="fa fa-angle-left" data-i='${start - 1}'></span>`;
      }
      for (let i = 0; i < count; i++) {
        lis += `<span class='${i === start?'current':''}' data-i='${i}'>${i+1}</span>`;     
      }
      if (start+1 < count) {
        lis += `<span class="fa fa-angle-right" data-i='${start+1}'></span>`;  
      }
      pageUl.innerHTML = lis;
    }

    function search(delay) {
      let timer = null
      return function () {
        clearTimeout(timer)
        timer = setTimeout(() => {
          let start = Date.now();
          let segments = searchBox.value.split(' ').filter(c => c != '');
          if (segments.length <= 0) {
            return;
          }
          finds = [];
          let htmlResult = '';
          contents.forEach(content => {
            let title = content.title;
            let positions = [];
            let find = false;
            segments.forEach((segment) => {
              if (content.title.includes(segment)) {
                find = true;
                positions.push({
                  start: content.title.indexOf(segment),
                  count: segment.length
                })
              } else if (content.details.includes(segment)) {
                find = true;
              }
            });
            if (find) {
              finds.push({
                title: content.title,
                link: content.link,
                positions
              });
            }
          })
          appendResults(0);
          statCount.textContent = finds.length;
          statTimes.textContent = Date.now() - start;
        }, delay)
      }
    }
    searchBox.addEventListener('input', search(200));
  }()
</script>

<input hidden id="copy" />
<script>
  !function () {
    let times = document.querySelectorAll('.publish-time');
    for (let i = 0; i < times.length; i++) {
      let date = times[i].dataset.t;
      let time = Math.floor((new Date().getTime() - new Date(date).getTime()) / 1000);
      if (time < 60) {
        str = time + '秒之前';
      } else if (time < 3600) {
        str = Math.floor(time / 60) + '分钟之前';
      } else if (time >= 3600 && time < 86400) {
        str = Math.floor(time / 3600) + '小时之前';
      } else if (time >= 86400 && time < 259200) {
        str = Math.floor(time / 86400) + '天之前';
      } else {
        str = times[i].textContent;
      }
      times[i].textContent = str;
    }
  }();
</script>

<script>
  let language = '';
  if (language !== '') {
    let map = new Map();
    if (language === 'en') {
      map.set('search', 'Search');
      map.set('category', 'Categories');
      map.set('article', 'Articles');
      map.set('tag', 'Tags');
      map.set('top', 'Top');
      map.set('publish', 'published');
      map.set('minute', ' minutes');
      map.set('read-more', 'Read More');
      map.set('view', 'View');
      map.set('words', ' words');
      map.set('category-in', 'category in');
      map.set('preview', 'Meta');
      map.set('index', 'Toc');
      map.set('no-archives', "You haven't created yet");
      map.set('archives', " articles in total");
      map.set('cloud-tags', " tags in total");
      map.set('copyright', "Copyright: ");
      map.set('author', "Author: ");
      map.set('link', "Link: ");
      map.set('leave-message', "Leave a message");
      map.set('format', "Links Format");
      map.set('site-name', "Name: ");
      map.set('site-link', "Link: ");
      map.set('site-desc', "Desc: ");
      map.set('stat', " related results, taking ");
      map.set('stat-time', " ms");
      map.set('site-img', "Image: ");
    }

    if (map.size > 0) {
      let lanElems = document.querySelectorAll('.language');
      lanElems.forEach(elem => {
        let lan = elem.dataset.lan, text = map.get(lan);
        if (elem.__proto__ === HTMLInputElement.prototype) {
          elem.placeholder = text
        } else {
          if (elem.dataset.count) {
            text = elem.dataset.count + text;
          }
          elem.textContent = text;
        }
      })
    }
  }

  window.Clipboard = (function (window, document, navigator) {
    var textArea,
      copy;

    // 判断是不是ios端
    function isOS() {
      return navigator.userAgent.match(/ipad|iphone/i);
    }
    //创建文本元素
    function createTextArea(text) {
      textArea = document.createElement('textArea');
      textArea.value = text;
      textArea.style.width = 0;
      textArea.style.height = 0;
      textArea.clientHeight = 0;
      textArea.clientWidth = 0;
      document.body.appendChild(textArea);
    }
    //选择内容
    function selectText() {
      var range,
        selection;

      if (isOS()) {
        range = document.createRange();
        range.selectNodeContents(textArea);
        selection = window.getSelection();
        selection.removeAllRanges();
        selection.addRange(range);
        textArea.setSelectionRange(0, 999999);
      } else {
        textArea.select();
      }
    }

    //复制到剪贴板
    function copyToClipboard() {
      try {
        document.execCommand("Copy")
      } catch (err) {
        alert("复制错误！请手动复制！")
      }
      document.body.removeChild(textArea);
    }

    copy = function (text) {
      createTextArea(text);
      selectText();
      copyToClipboard();
    };

    return {
      copy: copy
    };
  })(window, document, navigator);

  function copyCode(e) {
    if (e.srcElement.tagName === 'SPAN' && e.srcElement.classList.contains('copy-code')) {
      let code = e.currentTarget.querySelector('code');
      var text = code.innerText;
      if (e.srcElement.textContent === '复制成功') {
        return;
      }
      e.srcElement.textContent = '复制成功';
      (function (elem) {
        setTimeout(() => {
          if (elem.textContent === '复制成功') {
            elem.textContent = '复制代码'
          }
        }, 1000);
      })(e.srcElement)
      Clipboard.copy(text);
    }
  }

  let pres = document.querySelectorAll('pre');
  pres.forEach(pre => {
    let code = pre.querySelector('code');
    let copyElem = document.createElement('span');
    copyElem.classList.add('copy-code');
    copyElem.textContent = '复制代码';
    pre.appendChild(copyElem);
    pre.onclick = copyCode
  })

</script>
<script src="/media/js/motion.js"></script>


  <script
    src="https://cdn.jsdelivr.net/gh/cferdinandi/smooth-scroll/dist/smooth-scroll.polyfills.min.js"></script>
  <script>
    var scroll = new SmoothScroll('a[href*="#"]', {
      speed: 200
    });
  </script>







</html>